<!DOCTYPE html><html lang="en" dir="ltr"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 34.1.1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
<title>SPARQL 1.2 Protocol</title>

    
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
    
    

    

    
<style>

      /* @import url("local.css"); */
      /* Inlined to make preview work */

/* CSS For SPARQL Query */

/* In-progress working draft artifacts - to be removed eventually */
  .issue	{ background-color: #fdd;
                  font-size: 88% ; }
  .add		{ background-color: #7fff7f }
  .remove	{ background-color: #ff7f7f }
ul.issue	{}
  .issueBlock	{ margin: 1em 4em 1em 2.5em ; /* Top Right Bottom Left */
                  padding: 1ex;
	          /*overflow: auto;*/
                  page-break-inside: avoid ; }
  .issueTopic	{ font-weight: bold ; }

 .todo		{ font-size: 80% ; color: #444 ; }
p.todo		{}

.wgNote	{ border: 0.2em solid red;
      padding: 0.5em ;
      margin: 1em 4em 1em 2em ; }

.box     { border: thin solid #888888;
           page-break-inside: avoid ;
           background-color: #F8F8F8 ; padding:1em ;
           margin-left:0 ; margin-right: 2ex; 
           margin-top: 0.1ex ; margin-bottom: 0.1ex ;
         }

/* Misc WD stuff */
span.cvs-id     {color: gray; font-size:80%; display: block; }

/* == General Tag Treatment == */
pre		 { margin: 1em 4em 1em 2.5em ; /* Top Right Bottom Left */
                   padding: 1ex;
	           /*overflow: auto;*/
                   page-break-inside: avoid ; }

/* Tables */
table, td	{ text-align: left; }
td, th   { border-style: solid;
                  border-width: 1px;
                  border-color: black;
                  border-bottom-color: gray;
                  border-right-color: gray; }
td.annotation, th.annotation { border-style: none; border-bottom-style: dotted; }
table.plain	{ border-spacing: 0px; padding: 0px ; border-collapse: collapse ; }
                  /* cellpadding="0" cellspacing="1" style="border-collapse: collapse */


th.major	{ background-color: #005a9c;
                  color: white; }
.subHeading	{ text-align: left;
                  background-color: #CCCCCC; }
th, td		{ padding: 3px; }
td		{ font-size: 85%; }
th a:link	{ text-decoration: none; }
th a:hover	{ background-color:#FFFF99;
                  text-decoration: underline; }

/* == Prototypes == */
pre.prototype	{ background-color:#f7f8ff;
                  border:thin solid #8888aa;
                  margin: 1em 4em 1em 0em ; }
.return, .type	{ color: #177 }

/* == Notes ==  */
.note		{ margin-left: 2.5em; margin-right: 4ex ; font-size: 85% ; font-style: italic ; }

/* Definitions */
.defn		{ margin-left:0 ; margin-right: 2ex; 
                  margin-top: 0.1ex ; margin-bottom: 0.1ex ;
                  /*border: double 1px #888888; *//* Buggy */
                  border: thin solid #888888;
                  padding: 1ex 2ex 0.5ex 2ex ; /* top, right, bottom, left */
                  page-break-inside: avoid ;
                  background-color: #F0F8F8 ; }
div.defn p	{ margin-top: 1ex ; margin-bottom: 1.5ex ;}
div.defn ul	{ margin-top: 1ex ; margin-bottom: 1.5ex ; }
@media print	{ .defn { margin: 1em 1em 1em 1em ; } }
span.definedTerm	{font-weight: bold;}

div.grammarExtract
                { border: thin solid #888888;
                  padding: 1ex 2ex 1ex 2ex ; /* top, right, bottom, left */
                  margin: 1em 6em 1em 2em ; 
                  page-break-inside: avoid ;
                  background-color: #F8F8F8 ; }

pre.codeBlock  { font-family:monospace ; page-break-inside: avoid ; 
                 margin: 0 ;
	         margin-right: 2ex ;
                 border: thin solid #888888; }




/* Examples */
pre.data	{ border: thin solid #88AA88;
                  background-color: #E8F0E8;
                  margin: 1em 4em 1em 0em ; }

pre.dataExcerpt	{ border: thin solid #88AA88;
                  background-color: #E8F0E8;
                  margin: 1em 4em 1em 0em ; }
/* Example Queries */
.query          { background-color:#f7f8ff; }
.queryExcerpt   { background-color:#f7f8ff; }
pre.query	{ border:thin solid #8888aa;
                  margin: 1em 4em 1em 0em ; }
/* Example Results */
.result		{ border: thin solid  #888888 ;
                  background-color: #F0F0F0 ; }
pre.resultGraph	{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }
pre.resultSet	{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }
pre.resultAsk	{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }
pre.resultTurtle{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }

pre.result	{ margin: 1em 4em 1em 0em ; }

div.result	{ font-family: monospace;
                  margin:  1em 4em 1em 0em ;
                  padding: 1ex ; }

.result table	{ border-collapse: collapse; }
.result table td{ border-width: 1px ;
                  border-color : black ; 
                  font-family: monospace ;
                  empty-cells: show;
                  padding-left: 1ex ; padding-right: 1ex ;
                  vertical-align:top;
                  text-align: left ; } 
/*  spacing: 0 ;*/
.result table th{ border-width: 1px ;
                  font-family: monospace ;
                  border-color: black ;
                  empty-cells: show;
                  padding-left: 1ex ; padding-right: 1ex ;
                  vertical-align:top;
                  text-align:center; } 

/* Examples : Algebra */
div.algExample {  border: thin solid #888888;
                  page-break-inside: avoid ;
                  padding:0.5em ; margin:0.5em ;
                  margin-left: 2em ; margin-right: 2em ;
                  font-family:monospace ; }

div.algExample1 { padding:0.5em ; background-color: #F0F0FF ; }
div.algExample2 { padding:0.5em ; margin-top: 0.5em ; background-color: #F0FFF0 ; }

/* Grammar Mark-up */
.operator	{ color: #3f3f5f;
                  text-transform: uppercase; }
.function	{ color: #3f3f5f;
                }

/* Tuned to cope with different browsers behaviours */
div.grammarTable table	{ border-style: solid ;
			  border-width: 1px ;
			  border-color: #AAA ;
			  border-spacing: 0px ; 
			  border-collapse: collapse ; }

div.grammarTable table * { border-left-width: 0px ;
			   border-right-width: 0px ;
			   border-color: #AAA ; } 

div.grammarTable table * tr   { border-top-style: solid ;
			  border-top-width: 1px ;
			  border-top-color: #AAA ; } 

.grammar	{ text-align: left ;
                  vertical-align: top ; }
.token		{ color: #3f3f5f; }
table.FAndOTable .token		{ color: #00c; }
table.FAndOTable .token:visited		{ color: #a0c; }
.gRuleHead	{ font-style: italic ;
                  font-family: monospace ; }
.gRuleBody	{ font-family: monospace ; }
.gRuleLabel	{ font-family: monospace ; }

.code		{ font-family: monospace; font-size: 100%; }
pre.code	{ font-family: monospace; font-size: 100%; margin: 0 ; }

/* Table of Contents */
.toc		{ text-indent: 0; }
DIV.toc UL UL, DIV.toc OL OL {margin-left: 0}
DIV.toc UL UL UL, DIV.toc OL OL OL {margin-left: 1em}
DIV.toc UL UL UL UL, DIV.toc OL OL OL OL {margin-left: 0}
LI.tocline1	{ font-weight: bold}
LI.tocline2	{ font-weight: normal}
LI.tocline4	{ font-style: italic}
/* The border in the following rule crashes NN4 on fonts.html :-(
DIV.subtoc	{ padding: 1em; border: solid black thin; margin: 1em 0;
                  background: #ddd} */
DIV.toc, UL.index, DT { text-align: left; }


/* References to the Rdf Data Model */
span.rdfDM	{ color: #11d; }


/* Truth Table */
  .truth	{ font-family: monospace; }
  .error	{ color: #ff1f1f; }
  table.truthTable td	{ text-align: center; font-family: monospace; }
  table.truthTable th	{ background-color: #dfdfdf; }
  table.truthTable tbody th	{ font-weight: normal; font-family: monospace; }

/* Casting table */
table.casting	{ font-size: x-small; }

.castY	{ background-color: #7FFF7F;
                  color: black; }

.castN	{ background-color: #FF7F7F;
                  color: black; }

.castM	{ background-color: white;
                  color: black; }

span.cancast:hover { background-color: #ffa;
                     color: black; }

.SPARQLoperator	{ background-color: #FFFFbf; /* yellow */
          }

.owlnonterminal {
    font-weight: bold;
    font-family: sans-serif;
    font-size: 95%;
}
.owlgrammar {
    margin-top: 1ex;
    margin-bottom: 1ex;
    padding-left: 1ex;
    padding-right: 1ex;
    padding-top: 1ex;
    padding-bottom: 0.6ex;
    border: 1px dashed #2f6fab;
    font-family: monospace;
}

      /* ReSpec */
      dfn { font-style: normal ; }
      /* ReSpec */

  code           { font-family: monospace; }

  div.constraint,
  div.issue,
  div.note,
  div.notice     { margin-left: 2em; }

  ol.enumar      { list-style-type: decimal; }
  ol.enumla      { list-style-type: lower-alpha; }
  ol.enumlr      { list-style-type: lower-roman; }
  ol.enumua      { list-style-type: upper-alpha; }
  ol.enumur      { list-style-type: upper-roman; }


  div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
  div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
  div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
  div.exampleWrapper { margin: 4px }
  div.exampleHeader { font-weight: bold;
                    margin: 4px}

  em.rfc2119 { text-transform: lowercase;
             font-variant: small-caps;
             font-style: normal; }
    
</style>
  
<style>
ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}
</style>
<meta name="description" content="The SPARQL Protocol and RDF Query Language (SPARQL) is a query language and protocol for RDF. This document specifies the SPARQL Protocol; it describes a means for conveying SPARQL queries and updates to a SPARQL processing service and returning the
    results via HTTP to the entity that requested them. This protocol was developed by the W3C SPARQL Working Group, part of the Semantic Web Activity as described in the activity statement .">
<link rel="canonical" href="https://www.w3.org/TR/sparql12-protocol/">
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "rdf-star",
  "localBiblio": {
    "ISO24707": {
      "id": "ISO24707",
      "title": "Information technology — Common Logic (CL) — A framework for a family of logic-based languages",
      "date": "2018-07",
      "href": "https://www.iso.org/standard/66249.html",
      "status": "Published",
      "publisher": "ISO/EIC"
    },
    "HORST04": {
      "id": "HORST04",
      "title": "Extending the RDFS Entailment Lemma",
      "authors": [
        "Herman J. ter Horst"
      ],
      "date": "2004",
      "isbn": "978-3-540-30475-3",
      "href": "https://doi.org/10.1007/978-3-540-30475-3_7",
      "status": "Conference Proceeding",
      "publisher": "Springer, Berlin, Heidelberg"
    },
    "HORST05": {
      "id": "HORST05",
      "title": "Completeness, Decidability and Complexity of Entailment for RDF Schema and a Semantic Extension Involving the OWL Vocabulary",
      "authors": [
        "Herman J. ter Horst"
      ],
      "date": "2005",
      "href": "https://dx.doi.org/10.2139/ssrn.3199251",
      "status": "Conference Proceeding",
      "publisher": "Journal of Web Semantics"
    },
    "SAFETY": {
      "title": "Saftety of recursive horn clauses with infinite relations",
      "href": "http://arxiv.org/abs/cs.LO/9809032",
      "authors": [
        "R. Ramakrishnan",
        "F. Bancilhon",
        "A. Silberschatz"
      ],
      "date": "1987",
      "publisher": "ACM New York"
    },
    "STRIPEDRDF": {
      "id": "STRIPEDRDF",
      "title": "RDF: Understanding the Striped RDF/XML Syntax",
      "editors": [
        "D. Brickley"
      ],
      "date": "2001",
      "href": "http://www.w3.org/2001/10/stripes/",
      "status": "Team Submission",
      "publisher": "W3C"
    },
    "RDF12-CONCEPTS": {
      "authors": [
        "Richard Cyganiak",
        "David Wood",
        "Markus Lanthaler"
      ],
      "href": "https://w3c.github.io/rdf-concepts/spec/",
      "title": "RDF 1.2 Concepts and Abstract Syntax",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "rdf12-concepts"
    },
    "RDF12-SEMANTICS": {
      "authors": [
        "Patrick Hayes",
        "Peter Patel-Schneider"
      ],
      "href": "https://w3c.github.io/rdf-semantics/spec/",
      "title": "RDF 1.2 Semantics",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-N-QUADS": {
      "authors": [
        "Gavin Carothers"
      ],
      "href": "https://w3c.github.io/rdf-n-quads/spec/",
      "title": "RDF 1.2 N-Quads",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-N-TRIPLES": {
      "authors": [
        "Gavin Carothers",
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/rdf-n-triples/spec/",
      "title": "RDF 1.2 N-Triples",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-NEW": {
      "authors": [
        "David Wood"
      ],
      "href": "https://w3c.github.io/rdf-new/spec/",
      "title": "What’s New in RDF 1.2",
      "rawDate": "2022-01-01",
      "status": "DNOTE",
      "publisher": "W3C"
    },
    "RDF12-PRIMER": {
      "authors": [
        "Guus Schreiber",
        "Yves Raimond"
      ],
      "href": "https://w3c.github.io/rdf-primer/spec/",
      "title": "RDF 1.2 Primer",
      "rawDate": "2022-01-01",
      "status": "DNOTE",
      "publisher": "W3C"
    },
    "RDF12-SCHEMA": {
      "authors": [
        "Dan Brickley",
        "Ramanathan Guha"
      ],
      "href": "https://w3c.github.io/rdf-schema/spec/",
      "title": "RDF 1.2 Schema",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-TRIG": {
      "authors": [
        "Gavin Carothers",
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/rdf-trig/spec/",
      "title": "RDF 1.2 TriG",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-TURTLE": {
      "authors": [
        "Eric Prud'hommeaux",
        "Gavin Carothers"
      ],
      "href": "https://w3c.github.io/rdf-turtle/spec/",
      "title": "RDF 1.2 Turtle",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-XML": {
      "authors": [
        "Fabien Gandon",
        "Guus Schreiber"
      ],
      "href": "https://w3c.github.io/rdf-xml/spec/",
      "title": "RDF 1.2 XML Syntax",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "rdf12-xml"
    },
    "SPARQL12-NEW": {
      "authors": [
        "The W3C RDF-star Working Group"
      ],
      "href": "https://w3c.github.io/sparql-new/spec/",
      "title": "What’s New in SPARQL 1.2",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-new"
    },
    "SPARQL12-CONCEPTS": {
      "authors": [
        "The W3C RDF-star Working Group"
      ],
      "href": "https://w3c.github.io/sparql-concepts/spec/",
      "title": "SPARQL 1.2 Concepts",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-concepts"
    },
    "SPARQL12-QUERY": {
      "authors": [
        "Steven Harris",
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/sparql-query/spec/",
      "title": "SPARQL 1.2 Query Language",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-query"
    },
    "SPARQL12-UPDATE": {
      "authors": [
        "Paula Gearon",
        "Alexandre Passant",
        "Axel Polleres"
      ],
      "href": "https://w3c.github.io/sparql-update/spec/",
      "title": "SPARQL 1.2 Update",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-update"
    },
    "SPARQL12-SERVICE-DESCRIPTION": {
      "authors": [
        "Gregory Williams"
      ],
      "href": "https://w3c.github.io/sparql-service-description/spec/",
      "title": "SPARQL 1.2 Service Description",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-service-description"
    },
    "SPARQL12-FEDERATED-QUERY": {
      "authors": [
        "Eric Prud'hommeaux",
        "Carlos Buil Aranda"
      ],
      "href": "https://w3c.github.io/sparql-federated-query/spec/",
      "title": "SPARQL 1.2 Federated Query",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-federated-query"
    },
    "SPARQL12-RESULTS-JSON": {
      "authors": [
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/sparql-results-json/spec/",
      "title": "SPARQL 1.2 Query Results JSON Format",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-results-json"
    },
    "SPARQL12-RESULTS-CSV-TSV": {
      "authors": [
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/sparql-results-csv-tsv/spec/",
      "title": "SPARQL 1.2 Query Results CSV and TSV Formats",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-results-csv-tsv"
    },
    "SPARQL12-RESULTS-XML": {
      "authors": [
        "Sandro Hawke",
        "Dave Beckett",
        "Jeen Broekstra"
      ],
      "href": "https://w3c.github.io/sparql-results-xml/spec/",
      "title": "SPARQL 1.2 Query Results XML Formats",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-results-xml"
    },
    "SPARQL12-ENTAILMENT": {
      "authors": [
        "Birte Glimm",
        "Chimezie Ogbuji"
      ],
      "href": "https://w3c.github.io/sparql-entailment/spec/",
      "title": "SPARQL 1.2 Entailment Regimes",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-entailment"
    },
    "SPARQL12-PROTOCOL": {
      "authors": [
        "Lee Feigenbaum",
        "Gregory Williams",
        "Kendall Clark",
        "Elias Torres"
      ],
      "href": "https://w3c.github.io/sparql-protocol/spec/",
      "title": "SPARQL 1.2 Protocol",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "SPARQL12-GRAPH-STORE-PROTOCOL": {
      "authors": [
        "Chimezie Ogbuji"
      ],
      "href": "https://w3c.github.io/sparql-graph-store-protocol/spec/",
      "title": "SPARQL 1.2 Graph Store HTTP Protocol",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-graph-store-protocol"
    },
    "CBD": {
      "title": "CBD - Concise Bounded Description",
      "href": "https://www.w3.org/Submission/CBD/",
      "authors": [
        "Patrick Stickler, Nokia"
      ],
      "rawDate": "2005-06-03",
      "publisher": "W3C",
      "status": "W3C Member Submission"
    }
  },
  "specStatus": "FPWD",
  "edDraftURI": "https://w3c.github.io/sparql-protocol/spec/",
  "testSuiteURI": "https://w3c.github.io/rdf-tests/",
  "shortName": "sparql12-protocol",
  "copyrightStart": "2008",
  "github": "https://github.com/w3c/sparql-protocol",
  "wgPublicList": "public-rdf-star-wg",
  "previousPublishDate": "2013-03-21",
  "prevRecURI": "https://www.w3.org/TR/2013/REC-sparql11-protocol-20130321",
  "prevRecShortname": "sparql11-protocol",
  "previousMaturity": "REC",
  "editors": [
    {
      "name": "Andy Seaborne",
      "w3cid": "29909"
    },
    {
      "name": "Ruben Taelman",
      "w3cid": "84199"
    },
    {
      "name": "Gregory Williams",
      "w3cid": "38870"
    }
  ],
  "formerEditors": [
    {
      "name": "Lee Feigenbaum"
    },
    {
      "name": "Gregory Todd Williams"
    },
    {
      "name": "Kendall Grant Clark"
    },
    {
      "name": "Elias Torres"
    }
  ],
  "lint": {
    "no-unused-dfns": false
  },
  "publishDate": "2023-05-16",
  "publishISODate": "2023-05-16T00:00:00.000Z",
  "generatedSubtitle": "W3C First Public Working Draft 16 May 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD"></head>
  <body class="h-entry"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
  </a></p>
    <h1 id="title" class="title">SPARQL 1.2 Protocol</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#FPWD">W3C First Public Working Draft</a> <time class="dt-published" datetime="2023-05-16">16 May 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://www.w3.org/TR/2023/WD-sparql12-protocol-20230516/">https://www.w3.org/TR/2023/WD-sparql12-protocol-20230516/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/sparql12-protocol/">https://www.w3.org/TR/sparql12-protocol/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/sparql-protocol/spec/">https://w3c.github.io/sparql-protocol/spec/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://www.w3.org/standards/history/sparql12-protocol">https://www.w3.org/standards/history/sparql12-protocol</a>
                  </dd><dd>
                    <a href="https://github.com/w3c/sparql-protocol/commits/">Commit history</a>
                  </dd>
        <dt>Test suite:</dt><dd><a href="https://w3c.github.io/rdf-tests/">https://w3c.github.io/rdf-tests/</a></dd>
        
        
        
        <dt>Latest Recommendation:</dt><dd><a href="https://www.w3.org/TR/2013/REC-sparql11-protocol-20130321">https://www.w3.org/TR/2013/REC-sparql11-protocol-20130321</a></dd>
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="29909">
    <span class="p-name fn">Andy Seaborne</span>
  </dd><dd class="editor p-author h-card vcard" data-editor-id="84199">
    <span class="p-name fn">Ruben Taelman</span>
  </dd><dd class="editor p-author h-card vcard" data-editor-id="38870">
    <span class="p-name fn">Gregory Williams</span>
  </dd>
        <dt>
                Former editors:
              </dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Lee Feigenbaum</span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Gregory Todd Williams</span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Kendall Grant Clark</span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Elias Torres</span>
  </dd>
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/sparql-protocol/">GitHub w3c/sparql-protocol</a>
        (<a href="https://github.com/w3c/sparql-protocol/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/sparql-protocol/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/sparql-protocol/issues/">open issues</a>)
      </dd><dd><a href="mailto:public-rdf-star-wg@w3.org?subject=%5Bsparql12-protocol%5D%20YOUR%20TOPIC%20HERE">public-rdf-star-wg@w3.org</a> with subject line <kbd>[sparql12-protocol] <em>… message topic …</em></kbd> (<a rel="discussion" href="https://lists.w3.org/Archives/Public/public-rdf-star-wg">archives</a>)</dd>
        
        
      </dl>
    </details>
    
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2008-2023
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      
<p>The SPARQL Protocol and RDF Query Language (<span title="SPARQL Protocol And RDF Query Language">SPARQL</span>) is a query language and protocol for <a href="http://www.w3.org/RDF/">RDF</a>. This document specifies the SPARQL Protocol; it describes a means for conveying SPARQL queries and updates to a SPARQL processing service and returning the
    results via HTTP to the entity that requested them. This protocol was developed by the <a href="http://www.w3.org/2009/sparql/wiki/Main_Page"><abbr title="World Wide Web Consortium">W3C</abbr> SPARQL Working Group</a>, part of the <a href="http://www.w3.org/2001/sw/">Semantic Web Activity</a> as described in the <a href="http://www.w3.org/2001/sw/Activity">activity statement</a> .</p>
    </section>

    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
      <p>
        This specification is published by the
        <a href="https://www.w3.org/groups/wg/rdf-star">RDF Star Working Group</a> as part of the
        update of specifications for format and errata.
      </p>
    <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/rdf-star">RDF-star Working Group</a> as
    a First Public Working Draft using the
        <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">Recommendation track</a>. 
  </p><p>Publication as a First Public Working Draft does not
  imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p><p>
    This is a draft document and may be updated, replaced or obsoleted by other
    documents at any time. It is inappropriate to cite this document as other
    than work in progress.
    
  </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
      
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/rdf-star/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2 November 2021 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#related"><bdi class="secno">1. </bdi>Set of Documents</a></li><li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">2. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#conventions"><bdi class="secno">2.1 </bdi>Document Conventions</a></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">2.2 </bdi>Terminology</a></li></ol></li><li class="tocline"><a class="tocxref" href="#protocol"><bdi class="secno">3. </bdi>SPARQL Protocol Operations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#query-operation"><bdi class="secno">3.1 </bdi>Query Operation</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#query-via-get"><bdi class="secno">3.1.1 </bdi><code>query</code> via GET</a></li><li class="tocline"><a class="tocxref" href="#query-via-post-urlencoded"><bdi class="secno">3.1.2 </bdi><code>query</code> via POST with URL-encoded parameters</a></li><li class="tocline"><a class="tocxref" href="#query-via-post-direct"><bdi class="secno">3.1.3 </bdi><code>query</code> via POST directly</a></li><li class="tocline"><a class="tocxref" href="#dataset"><bdi class="secno">3.1.4 </bdi>Specifying an RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#conneg"><bdi class="secno">3.1.5 </bdi>Accepted Response Formats</a></li><li class="tocline"><a class="tocxref" href="#query-success"><bdi class="secno">3.1.6 </bdi>Success Responses</a></li><li class="tocline"><a class="tocxref" href="#query-failure"><bdi class="secno">3.1.7 </bdi>Failure Responses</a></li></ol></li><li class="tocline"><a class="tocxref" href="#update-operation"><bdi class="secno">3.2 </bdi>Update Operation</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#update-via-post-urlencoded"><bdi class="secno">3.2.1 </bdi><code>update</code> via POST with URL-encoded parameters</a></li><li class="tocline"><a class="tocxref" href="#update-via-post-direct"><bdi class="secno">3.2.2 </bdi><code>update</code> via POST directly</a></li><li class="tocline"><a class="tocxref" href="#update-dataset"><bdi class="secno">3.2.3 </bdi>Specifying an RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#update-success"><bdi class="secno">3.2.4 </bdi>Success Responses</a></li><li class="tocline"><a class="tocxref" href="#update-failure"><bdi class="secno">3.2.5 </bdi>Failure Responses</a></li></ol></li><li class="tocline"><a class="tocxref" href="#base-iri"><bdi class="secno">3.3 </bdi>Determining the Base IRI</a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">4. </bdi>Example SPARQL Protocol Requests (informative)</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#query-bindings-http-examples"><bdi class="secno">4.1 </bdi>Examples of SPARQL Query</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#select-svcsupplied"><bdi class="secno">4.1.1 </bdi>SELECT with service-supplied RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#select-simple"><bdi class="secno">4.1.2 </bdi>SELECT with simple RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#construct-simple"><bdi class="secno">4.1.3 </bdi>CONSTRUCT with simple RDF dataset and HTTP content negotiation</a></li><li class="tocline"><a class="tocxref" href="#ask-simple"><bdi class="secno">4.1.4 </bdi>ASK with simple RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#describe-simple"><bdi class="secno">4.1.5 </bdi>DESCRIBE with simple RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#select-complex"><bdi class="secno">4.1.6 </bdi>SELECT with complex RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#select-queryonly"><bdi class="secno">4.1.7 </bdi>SELECT with query-only RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#select-ambiguous"><bdi class="secno">4.1.8 </bdi>SELECT with ambiguous RDF Dataset</a></li><li class="tocline"><a class="tocxref" href="#select-malformed"><bdi class="secno">4.1.9 </bdi>SELECT with malformed query fault</a></li><li class="tocline"><a class="tocxref" href="#select-refused"><bdi class="secno">4.1.10 </bdi>SELECT with query request refused fault</a></li><li class="tocline"><a class="tocxref" href="#select-longpost"><bdi class="secno">4.1.11 </bdi>Long SELECT query using POST with URL encoding</a></li><li class="tocline"><a class="tocxref" href="#select-longpost-direct"><bdi class="secno">4.1.12 </bdi>Long SELECT query using direct POST</a></li><li class="tocline"><a class="tocxref" href="#select-kanji"><bdi class="secno">4.1.13 </bdi>SELECT with internationalization</a></li><li class="tocline"><a class="tocxref" href="#select-quoted"><bdi class="secno">4.1.14 </bdi>SELECT with quoted triple patterns</a></li></ol></li><li class="tocline"><a class="tocxref" href="#update-bindings-http-examples"><bdi class="secno">4.2 </bdi>Examples of SPARQL Update</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#update-urlencoded-simple"><bdi class="secno">4.2.1 </bdi>UPDATE using URL-encoded parameters</a></li><li class="tocline"><a class="tocxref" href="#update-direct-simple"><bdi class="secno">4.2.2 </bdi>UPDATE using POST directly</a></li><li class="tocline"><a class="tocxref" href="#update-direct-simple-dataset"><bdi class="secno">4.2.3 </bdi>UPDATE specifying dataset and using POST directly</a></li><li class="tocline"><a class="tocxref" href="#update-urlencoded-multi"><bdi class="secno">4.2.4 </bdi>Multi-operation UPDATE using URL-encoded parameters</a></li><li class="tocline"><a class="tocxref" href="#update-urlencoded-multi-dataset"><bdi class="secno">4.2.5 </bdi>Multi-operation UPDATE specifying dataset and using URL-encoded parameters</a></li><li class="tocline"><a class="tocxref" href="#update-direct-multi-dataset"><bdi class="secno">4.2.6 </bdi>Multi-operation UPDATE specifying dataset and using POST directly</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#policy"><bdi class="secno">5. </bdi>Policy Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#policy-security"><bdi class="secno">5.1 </bdi>Security</a></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">6. </bdi>Conformance</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#conformance-0"><bdi class="secno">6.1 </bdi>Conformance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#changes"><bdi class="secno">7. </bdi>Changes Since Previous Recommendation (Informative)</a></li><li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">8. </bdi>Privacy Considerations</a></li><li class="tocline"><a class="tocxref" href="#security"><bdi class="secno">9. </bdi>Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#internationalization"><bdi class="secno">10. </bdi>Internationalization Considerations</a></li><li class="tocline"><a class="tocxref" href="#changes-from-sparql11"><bdi class="secno">A. </bdi>Change Log</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">B. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">B.1 </bdi>Terms defined by this specification</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">B.2 </bdi>Terms defined by reference</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1 </bdi>Normative references</a></li></ol></li></ol></nav>

    <section id="related"><div class="header-wrapper"><h2 id="x1-set-of-documents"><bdi class="secno">1. </bdi>Set of Documents</h2><a class="self-link" href="#related" aria-label="Permalink for Section 1."></a></div>
<p>This document is one of twelve SPARQL 1.2 Recommendations produced by the <a href="https://www.w3.org/groups/wg/rdf-star">RDF-star Working Group</a>:</p>

<p>SPARQL 1.2 Recommendations:</p>
<ol>
  <li><cite><a data-matched-text="[[[SPARQL12-NEW]]]" href="https://w3c.github.io/sparql-new/spec/">What’s New in SPARQL 1.2</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-CONCEPTS]]]" href="https://w3c.github.io/sparql-concepts/spec/">SPARQL 1.2 Concepts</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-UPDATE]]]" href="https://w3c.github.io/sparql-update/spec/">SPARQL 1.2 Update</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-SERVICE-DESCRIPTION]]]" href="https://w3c.github.io/sparql-service-description/spec/">SPARQL 1.2 Service Description</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-FEDERATED-QUERY]]]" href="https://w3c.github.io/sparql-federated-query/spec/">SPARQL 1.2 Federated Query</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-RESULTS-JSON]]]" href="https://w3c.github.io/sparql-results-json/spec/">SPARQL 1.2 Query Results JSON Format</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-RESULTS-CSV-TSV]]]" href="https://w3c.github.io/sparql-results-csv-tsv/spec/">SPARQL 1.2 Query Results CSV and TSV Formats</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-RESULTS-XML]]]" href="https://w3c.github.io/sparql-results-xml/spec/">SPARQL 1.2 Query Results XML Formats</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-ENTAILMENT]]]" href="https://w3c.github.io/sparql-entailment/spec/">SPARQL 1.2 Entailment Regimes</a></cite></li>
  <li>SPARQL 1.2 Protocol(this document)</li>
  <li><cite><a data-matched-text="[[[SPARQL12-GRAPH-STORE-PROTOCOL]]]" href="https://w3c.github.io/sparql-graph-store-protocol/spec/">SPARQL 1.2 Graph Store HTTP Protocol</a></cite></li>
</ol>
</section>


    <section id="intro"><div class="header-wrapper"><h2 id="x2-introduction"><bdi class="secno">2. </bdi>Introduction</h2><a class="self-link" href="#intro" aria-label="Permalink for Section 2."></a></div>
      
      <p>This document describes the SPARQL 1.2 Protocol, a means of conveying SPARQL queries and updates from clients to SPARQL processors. The SPARQL Protocol has been designed for compatibility
      with the <cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite> and with the <cite><a data-matched-text="[[[SPARQL12-UPDATE]]]" href="https://w3c.github.io/sparql-update/spec/">SPARQL 1.2 Update</a></cite>. This document is primarily intended for software developers interested in implementing SPARQL query and update services and clients.</p>
      <p>The SPARQL Protocol consists of two HTTP operations: a <a href="#query-operation">query operation</a> for performing SPARQL Query Language queries and an <a href="#update-operation">update
      operation</a> for performing SPARQL Update Language requests. SPARQL Protocol clients send HTTP requests to SPARQL Protocol services that handle the request and send HTTP responses back to the
      originating client.</p>
      <p>A separate document describes the <cite><a data-matched-text="[[[SPARQL12-GRAPH-STORE-PROTOCOL]]]" href="https://w3c.github.io/sparql-graph-store-protocol/spec/">SPARQL 1.2 Graph Store HTTP Protocol</a></cite> which describes the use of HTTP operations for the purpose
      of managing a collection of graphs in the REST architectural style.</p>
      <section id="conventions"><div class="header-wrapper"><h3 id="x2-1-document-conventions"><bdi class="secno">2.1 </bdi>Document Conventions</h3><a class="self-link" href="#conventions" aria-label="Permalink for Section 2.1"></a></div>
        
        <p>When this document uses the words <strong>must</strong>, <strong>must not</strong>, <strong>should</strong>, <strong>should not</strong>, <strong>may</strong> and
        <strong>recommended</strong>, and the words appear as emphasized text, they must be interpreted as described in <a href="https://www.rfc-editor.org/rfc/rfc2119#" id="ref-for-index-term-rfc-2119-1">RFC 2119</a>.</p>
      </section>
      <section id="terminology"><div class="header-wrapper"><h3 id="x2-2-terminology"><bdi class="secno">2.2 </bdi>Terminology</h3><a class="self-link" href="#terminology" aria-label="Permalink for Section 2.2"></a></div>
        
        <dl>
          <dt>SPARQL Protocol client</dt>
          <dd>An HTTP client (as defined by <a href="https://www.rfc-editor.org/rfc/rfc9110#section-3.3" id="ref-for-index-term-rfc-9110-1">RFC 9110</a>) that sends HTTP requests for SPARQL
          Protocol operations. (Also known as: <em>client</em>)</dd>
          <dt>SPARQL Protocol service</dt>
          <dd>An HTTP server that services HTTP requests and sends back HTTP responses for SPARQL Protocol operations. The URI at which a SPARQL Protocol service listens for requests is generally
          known as a SPARQL endpoint. (Also known as: <em>service</em>)</dd>
          <dt>SPARQL endpoint</dt>
          <dd>The URI at which a SPARQL Protocol service listens for requests from SPARQL Protocol clients.</dd>
          <dt>SPARQL Protocol operation</dt>
          <dd>An HTTP request and response that conform to the protocol defined in this document.</dd>
          <dt>RDF Dataset</dt>
          <dd>A collection of a default graph and zero or more named graphs, as defined by the <a href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="ref-for-index-term-sparql-1-2-query-language-1">SPARQL 1.2 Query Language</a>.</dd>
        </dl>
      </section>
    </section>
    <section id="protocol"><div class="header-wrapper"><h2 id="x3-sparql-protocol-operations"><bdi class="secno">3. </bdi>SPARQL Protocol Operations</h2><a class="self-link" href="#protocol" aria-label="Permalink for Section 3."></a></div>
      
      <p>The SPARQL Protocol consists of two operations: query and update. A protocol operation defines combinations of:</p>
      <ul>
        <li>The HTTP method by which the request is sent.</li>
        <li>The HTTP query string parameters included in the HTTP request URI.</li>
        <li>The message content included in the HTTP request body.</li>
        <li>The message content included in the HTTP response body.</li>
      </ul>
      <p>The SPARQL 1.2 Protocol is built on top of HTTP. All HTTP requirements for requests and responses <strong>must</strong> be followed.</p>
      <section id="query-operation"><div class="header-wrapper"><h3 id="x3-1-query-operation"><bdi class="secno">3.1 </bdi>Query Operation</h3><a class="self-link" href="#query-operation" aria-label="Permalink for Section 3.1"></a></div>
        
        <p>The <code>query</code> operation is used to send a SPARQL query to a service and receive the results of the query. The query operation <strong><em class="rfc2119">MUST</em></strong> be invoked with either the HTTP
        GET or HTTP POST method. Client requests for this operation <strong>must</strong> include exactly one SPARQL query string (parameter name: <code>query</code>) and <strong>may</strong> include
        zero or more default graph URIs (parameter name: <code>default-graph-uri</code>) and named graph URIs (parameter name: <code>named-graph-uri</code>). The response to a query request is either
        the <cite><a data-matched-text="[[[SPARQL12-RESULTS-XML]]]" href="https://w3c.github.io/sparql-results-xml/spec/">SPARQL 1.2 Query Results XML Formats</a></cite>, the <cite><a data-matched-text="[[[SPARQL12-RESULTS-JSON]]]" href="https://w3c.github.io/sparql-results-json/spec/">SPARQL 1.2 Query Results JSON Format</a></cite>, the <cite><a data-matched-text="[[[SPARQL12-RESULTS-CSV-TSV]]]" href="https://w3c.github.io/sparql-results-csv-tsv/spec/">SPARQL 1.2 Query Results CSV and TSV Formats</a></cite>, or an RDF serialization, depending on the <a href="https://w3c.github.io/sparql-query/spec/#QueryForms" id="ref-for-index-term-query-form-1">query
        form</a> and <a href="https://www.rfc-editor.org/rfc/rfc9110#section-12" id="ref-for-index-term-content-negotiation-1">content negotiation</a>.
        </p>
        <span class="doc-ref" id="query-summary"></span>
        <table style="margin-left: auto; margin-right: auto; border-color: rgb(0, 0, 0); border-collapse: collapse; padding: 5px; border: 1px">
          <tbody>
            <tr>
              <th>&nbsp;</th>
              <th>HTTP Method</th>
              <th>Query String Parameters</th>
              <th>Request Content Type</th>
              <th>Request Message Body</th>
            </tr>
            <tr>
              <th>query via GET</th>
              <td>GET</td>
              <td><code>query</code> (exactly 1)<br>
              <code>default-graph-uri</code> (0 or more)<br>
              <code>named-graph-uri</code> (0 or more)</td>
              <td>None</td>
              <td>None</td>
            </tr>
            <tr>
              <th>query via URL-encoded POST</th>
              <td>POST</td>
              <td>None</td>
              <td><code>application/x-www-form-urlencoded</code></td>
              <td>URL-encoded, ampersand-separated query parameters.<br>
              <code>query</code> (exactly 1)<br>
              <code>default-graph-uri</code> (0 or more)<br>
              <code>named-graph-uri</code> (0 or more)</td>
            </tr>
            <tr>
              <th>query via POST directly</th>
              <td>POST</td>
              <td><code>default-graph-uri</code> (0 or more)<br>
              <code>named-graph-uri</code> (0 or more)</td>
              <td><code>application/sparql-query</code></td>
              <td>Unencoded SPARQL query string</td>
            </tr>
          </tbody>
        </table>
        <p>The <code>query</code> request's parameters <strong>must</strong> be sent according to one of these three options:</p>
        <section id="query-via-get"><div class="header-wrapper"><h4 id="x3-1-1-query-via-get"><bdi class="secno">3.1.1 </bdi><code>query</code> via GET</h4><a class="self-link" href="#query-via-get" aria-label="Permalink for Section 3.1.1"></a></div>
          
          <p>Protocol clients <strong>may</strong> send protocol requests via the HTTP GET method. When using the GET method, clients <strong>must</strong> URL <a href="https://www.rfc-editor.org/rfc/rfc3986#section-2.1" id="ref-for-index-term-percent-encode-1">percent encode</a> all parameters and include them as <a href="https://www.rfc-editor.org/rfc/rfc3986#section-3.4" id="ref-for-index-term-query-parameter-1">query parameter</a> strings with the names given
          above.</p>
          <p>HTTP query string parameters <strong>must</strong> be separated with the ampersand (<code>&amp;</code>) character. Clients may include the query string parameters in any order.</p>
          <p>The HTTP request <strong><em class="rfc2119">MUST NOT</em></strong> include a message body.</p>
        </section>
        <section id="query-via-post-urlencoded"><div class="header-wrapper"><h4 id="x3-1-2-query-via-post-with-url-encoded-parameters"><bdi class="secno">3.1.2 </bdi><code>query</code> via POST with URL-encoded parameters</h4><a class="self-link" href="#query-via-post-urlencoded" aria-label="Permalink for Section 3.1.2"></a></div>
          
          <p>Protocol clients <strong>may</strong> send protocol requests via the HTTP POST method by URL encoding the parameters. When using this method, clients <strong>must</strong> URL <a href="https://www.rfc-editor.org/rfc/rfc3986#section-2.1" id="ref-for-index-term-percent-encode-2">percent encode</a> all parameters and include them as parameters within the request body via the
          <code>application/x-www-form-urlencoded</code> media type with the name given above. Parameters <strong>must</strong> be separated with the ampersand (<code>&amp;</code>) character. Clients
          may include the parameters in any order. The content type header of the HTTP request <strong>must</strong> be set to <code>application/x-www-form-urlencoded</code>.</p>
        </section>
        <section id="query-via-post-direct"><div class="header-wrapper"><h4 id="x3-1-3-query-via-post-directly"><bdi class="secno">3.1.3 </bdi><code>query</code> via POST directly</h4><a class="self-link" href="#query-via-post-direct" aria-label="Permalink for Section 3.1.3"></a></div>
          
          <p>Protocol clients <strong>may</strong> send protocol requests via the HTTP POST method by including the query directly and unencoded as the HTTP request message body. When using this
          approach, clients <strong>must</strong> include the SPARQL query string, unencoded, and nothing else as the message body of the request. Clients <strong>must</strong> set the content type
          header of the HTTP request to <code>application/sparql-query</code>. Clients <strong>may</strong> include the optional <code>default-graph-uri</code> and <code>named-graph-uri</code>
          parameters as HTTP query string parameters in the request URI. Note that UTF-8 is the only valid charset here.</p>
        </section>
        <section id="dataset"><div class="header-wrapper"><h4 id="x3-1-4-specifying-an-rdf-dataset"><bdi class="secno">3.1.4 </bdi>Specifying an RDF Dataset</h4><a class="self-link" href="#dataset" aria-label="Permalink for Section 3.1.4"></a></div>
          
          <p>A SPARQL query is executed against an <a href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="ref-for-index-term-sparql-1-2-query-language-2">RDF Dataset</a>. The RDF Dataset for a query may be specified either via the
          <code>default-graph-uri</code> and <code>named-graph-uri</code> parameters in the SPARQL Protocol or in the SPARQL query string using the <code>FROM</code> and <code>FROM NAMED</code>
          keywords. If different RDF Datasets are specified in both the protocol request and the SPARQL query string, then the SPARQL service <strong>must</strong> execute the query using the RDF
          Dataset given in the protocol request.</p>
          <p>Note that a service <strong>may</strong> reject a query with HTTP response code 400 if the service does not allow protocol clients to specify the RDF Dataset.</p>
          <p>If an RDF Dataset is not specified in either the protocol request or the SPARQL query string, then implementations <strong>may</strong> execute the query against an
          implementation-defined default RDF dataset.</p>
        </section>
        <section id="conneg"><div class="header-wrapper"><h4 id="x3-1-5-accepted-response-formats"><bdi class="secno">3.1.5 </bdi>Accepted Response Formats</h4><a class="self-link" href="#conneg" aria-label="Permalink for Section 3.1.5"></a></div>
          
          <p>Protocol clients <strong>should</strong> use HTTP <a href="https://www.rfc-editor.org/rfc/rfc9110#name-content-negotiation" id="ref-for-index-term-content-negotiation-0-1">content negotiation</a> to request
          response formats that the client can consume. See below for more on potential response formats.</p>
        </section>
        <section id="query-success"><div class="header-wrapper"><h4 id="x3-1-6-success-responses"><bdi class="secno">3.1.6 </bdi>Success Responses</h4><a class="self-link" href="#query-success" aria-label="Permalink for Section 3.1.6"></a></div>
          
          <p>The SPARQL Protocol uses the response status codes defined in HTTP to indicate the success or failure of an operation. Consult the <a href="https://www.rfc-editor.org/rfc/rfc9110#section-15" id="ref-for-index-term-http-specification-1">HTTP specification</a> for detailed definitions of each status code. While a protocol service
          <strong>should</strong> use a 2XX HTTP response code for a successful query, it <strong>may</strong> choose instead to use a 3XX response code as per HTTP.</p>
          <p>The response body of a successful query operation with a 2XX response is either:</p>
          <ul>
            <li>a SPARQL Results Document in <a href="https://w3c.github.io/sparql-results-xml/spec/#" id="ref-for-index-term-xml-1">XML</a>, <a href="https://w3c.github.io/sparql-results-json/spec/#" id="ref-for-index-term-json-1">JSON</a>, or <a href="https://w3c.github.io/sparql-results-csv-tsv/spec/#" id="ref-for-index-term-csv-tsv-1">CSV/TSV</a> format (for SPARQL Query forms <a href="https://w3c.github.io/sparql-query/spec/#select" id="ref-for-index-term-select-1">SELECT</a> and <a href="https://w3c.github.io/sparql-query/spec/#ask" id="ref-for-index-term-ask-1">ASK</a>); or,</li>
            <li>an RDF graph <cite><a data-matched-text="[[[RDF12-CONCEPTS]]]" href="https://w3c.github.io/rdf-concepts/spec/">RDF 1.2 Concepts and Abstract Syntax</a></cite> serialized, for example, in the <cite><a data-matched-text="[[[RDF12-XML]]]" href="https://w3c.github.io/rdf-xml/spec/">RDF 1.2 XML Syntax</a></cite>, or an equivalent RDF graph serialization, for SPARQL Query forms <a href="https://w3c.github.io/sparql-query/spec/#describe" id="ref-for-index-term-describe-1">DESCRIBE</a> and <a href="https://w3c.github.io/sparql-query/spec/#construct" id="ref-for-index-term-construct-1">CONSTRUCT</a>).</li>
          </ul>
          <p>The content type of the response to a successful query operation must be the media type defined for the format of the response body.</p>
        </section>
        <section id="query-failure"><div class="header-wrapper"><h4 id="x3-1-7-failure-responses"><bdi class="secno">3.1.7 </bdi>Failure Responses</h4><a class="self-link" href="#query-failure" aria-label="Permalink for Section 3.1.7"></a></div>
          
          <p>The HTTP response codes applicable to an unsuccessful query operation include:</p>
          <ul>
            <li>400 if the SPARQL query supplied in the request is not a legal sequence of characters in the language defined by the SPARQL grammar; or,</li>
            <li>500 if the service fails to execute the query. SPARQL Protocol services may also return a 500 response code if they refuse to execute a query. This response does not indicate whether
            the server may or may not process a subsequent, identical request or requests.</li>
          </ul>
          <p>The response body of a failed query request is implementation defined. Implementations <strong>may</strong> use HTTP content negotiation to provide human-readable or machine-processable
          (or both) information about the failed query request.</p>
          <p>A protocol service <strong>may</strong> use other 4XX or 5XX HTTP response codes for other failure conditions, as per HTTP.</p>
        </section>
      </section>
      <section id="update-operation"><div class="header-wrapper"><h3 id="x3-2-update-operation"><bdi class="secno">3.2 </bdi>Update Operation</h3><a class="self-link" href="#update-operation" aria-label="Permalink for Section 3.2"></a></div>
        
        <p>
          The <code>update</code> operation is used to send a SPARQL update request to a service. The update operation <strong>must</strong> be invoked using the HTTP POST method. Client requests
          for this operation <strong>must</strong> include exactly one SPARQL update request string (parameter name: <code>update</code>) and <strong>may</strong> include zero or more default graph
          URIs (parameter name: <code>using-graph-uri</code>) and named graph URIs (parameter name: <code>using-named-graph-uri</code>). The response to an update request indicates success or failure
          of the request via HTTP response status code.</p>
        <span class="doc-ref" id="update-summary"></span>
        <table style="margin-left: auto; margin-right: auto; border-color: rgb(0, 0, 0); border-collapse: collapse; padding: 5px; border: 1px">
          <tbody>
            <tr>
              <th>&nbsp;</th>
              <th>HTTP Method</th>
              <th>Query String Parameters</th>
              <th>Request Content Type</th>
              <th>Request Message Body</th>
            </tr>
            <tr>
              <th>update via URL-encoded POST</th>
              <td>POST</td>
              <td>None</td>
              <td><code>application/x-www-form-urlencoded</code></td>
              <td>URL-encoded, ampersand-separated query parameters.<br>
              <code>update</code> (exactly 1)<br>
              <code>using-graph-uri</code> (0 or more)<br>
              <code>using-named-graph-uri</code> (0 or more)</td>
            </tr>
            <tr>
              <th>update via POST directly</th>
              <td>POST</td>
              <td><code>using-graph-uri</code> (0 or more)<br>
              <code>using-named-graph-uri</code> (0 or more)</td>
              <td><code>application/sparql-update</code></td>
              <td>Unencoded SPARQL update request string</td>
            </tr>
          </tbody>
        </table>
        <p>The <code>update</code> request's parameters <strong>must</strong> be sent according to one of these two options:</p>
        <section id="update-via-post-urlencoded"><div class="header-wrapper"><h4 id="x3-2-1-update-via-post-with-url-encoded-parameters"><bdi class="secno">3.2.1 </bdi><code>update</code> via POST with URL-encoded parameters</h4><a class="self-link" href="#update-via-post-urlencoded" aria-label="Permalink for Section 3.2.1"></a></div>
          
          <p>Protocol clients <strong>may</strong> send update protocol requests via the HTTP POST method by URL encoding the parameters. When using this approach, clients <strong>must</strong> URL
          <a href="https://www.rfc-editor.org/rfc/rfc3986#" id="ref-for-index-term-percent-encode-0-1">percent encode</a> all parameters and include them as parameters within the request body via the
          <code>application/x-www-form-urlencoded</code> media type with the name given above. Parameters <strong>must</strong> be separated with the ampersand (<code>&amp;</code>) character. Clients
          may include the parameters in any order. The content type header of the HTTP request <strong>must</strong> be set to <code>application/x-www-form-urlencoded</code>.</p>
        </section>
        <section id="update-via-post-direct"><div class="header-wrapper"><h4 id="x3-2-2-update-via-post-directly"><bdi class="secno">3.2.2 </bdi><code>update</code> via POST directly</h4><a class="self-link" href="#update-via-post-direct" aria-label="Permalink for Section 3.2.2"></a></div>
          
          <p>Protocol clients <strong>may</strong> send update protocol requests via the HTTP POST method by including the update request directly and unencoded as the HTTP request message body. When
          using this approach, clients <strong>must</strong> include the SPARQL update request string, unencoded, and nothing else as the message body of the request. Clients <strong>must</strong>
          set the content type header of the HTTP request to <code>application/sparql-update</code>. Clients <strong>may</strong> include the optional <code>using-graph-uri</code> and
          <code>using-named-graph-uri</code> parameters as HTTP query string parameters in the request URI.</p>
        </section>
        <section id="update-dataset"><div class="header-wrapper"><h4 id="x3-2-3-specifying-an-rdf-dataset"><bdi class="secno">3.2.3 </bdi>Specifying an RDF Dataset</h4><a class="self-link" href="#update-dataset" aria-label="Permalink for Section 3.2.3"></a></div>
          
          <p>SPARQL Update requests are executed against a Graph Store, a mutable container of RDF graphs managed by a SPARQL service. The <code>WHERE</code> clause of a SPARQL update <a href="https://w3c.github.io/sparql-update/spec/#deleteInsert" id="ref-for-index-term-delete-insert-operation-1">DELETE/INSERT operation</a> matches against data in an <a href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="ref-for-index-term-sparql-1-2-query-language-3">RDF Dataset</a>, which is a subset of the Graph Store. The RDF Dataset for an update operation may be specified either in the operation
          string itself using the <code>USING</code>, <code>USING NAMED</code>, and/or <code>WITH</code> keywords, or it may be specified via the <code>using-graph-uri</code> and
          <code>using-named-graph-uri</code> parameters.</p>
          <p>It is an error to supply the <code>using-graph-uri</code> or <code>using-named-graph-uri</code> parameters when using this protocol to convey a SPARQL 1.2 Update request that contains an
          operation that uses the <code>USING</code>, <code>USING NAMED</code>, or <code>WITH</code> clause.</p>
          <p>A SPARQL Update processor should treat each occurrence of the <code>using-graph-uri=g</code> parameter in an update protocol operation as if a <code>USING &lt;g&gt;</code> clause were
          included for every operation in the SPARQL 1.2 Update request. Similarly, a SPARQL Update processor should treat each occurrence of the <code>using-named-graph-uri=g</code> parameter in an
          update protocol operation as if a <code>USING NAMED &lt;g&gt;</code> clause were included for every operation in the SPARQL 1.2 Update request.</p>
        </section>
        <section id="update-success"><div class="header-wrapper"><h4 id="x3-2-4-success-responses"><bdi class="secno">3.2.4 </bdi>Success Responses</h4><a class="self-link" href="#update-success" aria-label="Permalink for Section 3.2.4"></a></div>
          
          <p>The SPARQL Protocol uses the response status codes defined in HTTP to indicate the success or failure of an operation. Consult the <a href="https://www.rfc-editor.org/rfc/rfc9110#section-15" id="ref-for-index-term-http-specification-2">HTTP specification</a> for detailed definitions of each status code. While a protocol service
          <strong>should</strong> use a 2XX HTTP response code for an update request that is successfully processed, it <strong>may</strong> choose instead to use a 3XX response code as per HTTP.</p>
          <p>The response body of a successful update request is implementation defined. Implementations <strong>may</strong> use HTTP content negotiation to provide both human-readable and
          machine-processable information about the completed update request.</p>
        </section>
        <section id="update-failure"><div class="header-wrapper"><h4 id="x3-2-5-failure-responses"><bdi class="secno">3.2.5 </bdi>Failure Responses</h4><a class="self-link" href="#update-failure" aria-label="Permalink for Section 3.2.5"></a></div>
          
          <p>The HTTP response code for an unsuccessful update request should be:</p>
          <ul>
            <li>400 if the SPARQL update request string is not a legal sequence of characters in the language defined by the SPARQL Update grammar; or,</li>
            <li>500 if the service fails to execute the update request. SPARQL Protocol services may also return a 500 response code if they refuse to execute an update request. This response does
            not indicate whether the server may or may not process a subsequent, identical request or requests.</li>
          </ul>
          <p>The response body of a failed update request is implementation defined. Implementations <strong>may</strong> use HTTP content negotiation to provide human-readable or machine-processable
          (or both) information about the failed update request.</p>
          <p>A protocol service <strong>may</strong> use other 4XX or 5XX HTTP response codes for other failure conditions, as per HTTP.</p>
        </section>
      </section>
      <section id="base-iri"><div class="header-wrapper"><h3 id="x3-3-determining-the-base-iri"><bdi class="secno">3.3 </bdi>Determining the Base IRI</h3><a class="self-link" href="#base-iri" aria-label="Permalink for Section 3.3"></a></div>
        
        <p>The <code>BASE</code> keyword in a SPARQL query or a SPARQL update request string defines the Base IRI used to resolve relative IRIs per <cite><a data-matched-text="[[[rfc3986]]]" href="https://www.rfc-editor.org/rfc/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a></cite> section 5.1.1, "Base URI Embedded in Content". The SPARQL Protocol
        does not dereference query URIs so section 5.1.3 does not apply. Finally, per section 5.1.4, SPARQL Protocol services <strong>must</strong> define their own base URI, which
        <strong>may</strong> be the service endpoint.</p>
      </section>
    </section>
    <section id="examples"><div class="header-wrapper"><h2 id="x4-example-sparql-protocol-requests-informative"><bdi class="secno">4. </bdi>Example SPARQL Protocol Requests (informative)</h2><a class="self-link" href="#examples" aria-label="Permalink for Section 4."></a></div>
      
      <p>The following HTTP trace examples illustrate invocation of the <code>query</code> and <code>update</code> operations under several different scenarios. Some example traces are abstracted
      from complete HTTP traces in these ways:</p>
      <ol>
        <li>In some examples the string "<i>EncodedQuery</i>" represents the URL-encoded string equivalent of the SPARQL query string given in the example; the string "<i>UnencodedQuery</i>"
        represents the exact SPARQL query string given in the example without any encoding.</li>
        <li>For <code>query</code> operation examples, only partial response bodies, containing the query results, are displayed.</li>
      </ol>
      <section id="query-bindings-http-examples"><div class="header-wrapper"><h3 id="x4-1-examples-of-sparql-query"><bdi class="secno">4.1 </bdi>Examples of SPARQL Query</h3><a class="self-link" href="#query-bindings-http-examples" aria-label="Permalink for Section 4.1"></a></div>
        
        <section id="select-svcsupplied"><div class="header-wrapper"><h4 id="x4-1-1-select-with-service-supplied-rdf-dataset"><bdi class="secno">4.1.1 </bdi>SELECT with service-supplied RDF Dataset</h4><a class="self-link" href="#select-svcsupplied" aria-label="Permalink for Section 4.1.1"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-select-svcsupplied">
            <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt; 
SELECT ?book ?who 
WHERE { ?book dc:creator ?who }</pre>
            <p>is conveyed via HTTP GET to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=PREFIX%20dc%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%3E%20%0ASELECT%20%3Fbook%20%3Fwho%20%0AWHERE%20%7B%20%3Fbook%20dc%3Acreator%20%3Fwho%20%7D%0A HTTP/1.1
Host: www.example
User-agent: my-sparql-client/0.1</pre>
            <p>That query against the service-supplied RDF Dataset, executed by that SPARQL query service, returns the following query result:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Fri, 06 May 2005 20:55:12 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;

 &lt;head&gt;
   &lt;variable name="book"/&gt;
   &lt;variable name="who"/&gt;
 &lt;/head&gt;
 &lt;results&gt;
   &lt;result&gt;
     &lt;binding name="book"&gt;&lt;uri&gt;http://www.example/book/book5&lt;/uri&gt;&lt;/binding&gt;
     &lt;binding name="who"&gt;&lt;bnode&gt;r29392923r2922&lt;/bnode&gt;&lt;/binding&gt;
   &lt;/result&gt;
...
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="select-simple"><div class="header-wrapper"><h4 id="x4-1-2-select-with-simple-rdf-dataset"><bdi class="secno">4.1.2 </bdi>SELECT with simple RDF Dataset</h4><a class="self-link" href="#select-simple" aria-label="Permalink for Section 4.1.2"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-select-simple">
            <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt; 
SELECT ?book ?who 
WHERE { ?book dc:creator ?who }</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.other.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=PREFIX%20dc%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%3E%20%0ASELECT%20%3Fbook%20%3Fwho%20%0AWHERE%20%7B%20%3Fbook%20dc%3Acreator%20%3Fwho%20%7D%0A&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.other.example%2Fbooks HTTP/1.1
Host: www.other.example
User-agent: my-sparql-client/0.1</pre>
            <p>That query — against the RDF Dataset identified by the value of the <code>default-graph-uri</code> parameter, <code>/http://www.other.example/books</code> — executed by that SPARQL query
            service, returns the following query result:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Fri, 06 May 2005 20:55:12 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
 &lt;head&gt;
   &lt;variable name="book"/&gt;
   &lt;variable name="who"/&gt;
 &lt;/head&gt;
...
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="construct-simple"><div class="header-wrapper"><h4 id="x4-1-3-construct-with-simple-rdf-dataset-and-http-content-negotiation"><bdi class="secno">4.1.3 </bdi>CONSTRUCT with simple RDF dataset and HTTP content negotiation</h4><a class="self-link" href="#construct-simple" aria-label="Permalink for Section 4.1.3"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-construct-simple">
            <pre class="query nohighlight">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX myfoaf: &lt;http://www.example/jose/foaf.rdf#&gt;

CONSTRUCT { myfoaf:jose foaf:depiction &lt;http://www.example/jose/jose.jpg&gt;.
            myfoaf:jose foaf:schoolHomepage &lt;http://www.edu.example/&gt;.
            ?s ?p ?o.}
WHERE { ?s ?p ?o. myfoaf:jose foaf:nick "Jo".
       FILTER ( ! (?s = myfoaf:kendall &amp;&amp; ?p = foaf:knows &amp;&amp; ?o = myfoaf:edd ) 
              &amp;&amp; ! ( ?s = myfoaf:julia &amp;&amp; ?p = foaf:mbox &amp;&amp; ?o = &lt;mailto:julia@mail.example&gt; )
              &amp;&amp; ! ( ?s = myfoaf:julia &amp;&amp; ?p = rdf:type &amp;&amp; ?o = foaf:Person))
}</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fjose-foaf.rdf HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1
Accept: text/turtle, application/rdf+xml</pre>
            <p>With the response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Fri, 06 May 2005 20:55:11 GMT
Server: Apache/1.3.29 (Unix)
Connection: close
Content-Type: text/turtle

@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;.
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;.
@prefix myfoaf: &lt;http://www.example/jose/foaf.rdf#&gt;.

myfoaf:jose foaf:name "Jose Jimeñez";
            foaf:depiction &lt;http://www.example/jose/jose.jpg&gt;;
            foaf:nick "Jo";
...</pre>
          </div>
        </section>
        <section id="ask-simple"><div class="header-wrapper"><h4 id="x4-1-4-ask-with-simple-rdf-dataset"><bdi class="secno">4.1.4 </bdi>ASK with simple RDF Dataset</h4><a class="self-link" href="#ask-simple" aria-label="Permalink for Section 4.1.4"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-ask-simple">
            <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt; 
ASK WHERE { ?book dc:creator "J.K. Rowling"}</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fbooks HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>With the response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Fri, 06 May 2005 20:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
 &lt;head&gt;&lt;/head&gt;
 &lt;boolean&gt;true&lt;/boolean&gt;
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="describe-simple"><div class="header-wrapper"><h4 id="x4-1-5-describe-with-simple-rdf-dataset"><bdi class="secno">4.1.5 </bdi>DESCRIBE with simple RDF Dataset</h4><a class="self-link" href="#describe-simple" aria-label="Permalink for Section 4.1.5"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-describe-simple">
            <pre class="query nohighlight">PREFIX books: &lt;http://www.example/book/&gt;
DESCRIBE books:book6</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated here:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fbooks HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>With the response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type:  application/rdf+xml

&lt;?xml version="1.0"?&gt;
&lt;rdf:RDF 
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:books="http://www.example/book/"
    xmlns:dc="http://purl.org/dc/elements/1.1/" &gt;
  &lt;rdf:Description rdf:about="http://www.example/book/book6"&gt;
    &lt;dc:title&gt;Example Book #6 &lt;/dc:title&gt;
  &lt;/rdf:Description&gt;
&lt;/rdf:RDF&gt;</pre>
          </div>
        </section>
        <section id="select-complex"><div class="header-wrapper"><h4 id="x4-1-6-select-with-complex-rdf-dataset"><bdi class="secno">4.1.6 </bdi>SELECT with complex RDF Dataset</h4><a class="self-link" href="#select-complex" aria-label="Permalink for Section 4.1.6"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-select-complex">
            <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;

SELECT ?who ?g ?mbox
WHERE {  ?g dc:publisher ?who .
   GRAPH ?g { ?x foaf:mbox ?mbox }
}</pre>
            <p>is conveyed to the SPARQL query service, http://www.example/sparql/, as illustrated here (with line breaks for legibility):</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fpublishers
&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fmorepublishers&amp;<b>named-graph-uri</b>=http%3A%2F%2Fyour.example%2Ffoaf-alice
&amp;<b>named-graph-uri</b>=http%3A%2F%2Fwww.example%2Ffoaf-bob&amp;<b>named-graph-uri</b>=http%3A%2F%2Fwww.example%2Ffoaf-susan
&amp;<b>named-graph-uri</b>=http%3A%2F%2Fthis.example%2Fjohn%2Ffoaf
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>With the response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type:  application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
  &lt;head&gt;
    &lt;variable name="who"/&gt;
    &lt;variable name="g"/&gt;
    &lt;variable name="mbox"/&gt;
  &lt;/head&gt;
...
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="select-queryonly"><div class="header-wrapper"><h4 id="x4-1-7-select-with-query-only-rdf-dataset"><bdi class="secno">4.1.7 </bdi>SELECT with query-only RDF Dataset</h4><a class="self-link" href="#select-queryonly" aria-label="Permalink for Section 4.1.7"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-select-queryonly">
            <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;

SELECT ?who ?g ?mbox
FROM &lt;http://www.example/publishers&gt;
FROM NAMED &lt;http://www.example/alice&gt;
FROM NAMED &lt;http://www.example/bob&gt;
WHERE { ?g dc:publisher ?who .
        GRAPH ?g { ?x foaf:mbox ?mbox }
}</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i> HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>With the response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
...
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="select-ambiguous"><div class="header-wrapper"><h4 id="x4-1-8-select-with-ambiguous-rdf-dataset"><bdi class="secno">4.1.8 </bdi>SELECT with ambiguous RDF Dataset</h4><a class="self-link" href="#select-ambiguous" aria-label="Permalink for Section 4.1.8"></a></div>
          
          <div id="div-select-ambiguous">
            <p>This SPARQL query</p>
            <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;

SELECT ?who ?g ?mbox
FROM &lt;http://www.example/publishers&gt;
FROM NAMED &lt;http://www.example/john&gt;
FROM NAMED &lt;http://www.example/susan&gt;
WHERE { ?g dc:publisher ?who .
        GRAPH ?g { ?x foaf:mbox ?mbox }
}</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fmorepublishers
&amp;<b>named-graph-uri</b>=http%3A%2F%2Fwww.example%2Fbob&amp;<b>named-graph-uri</b>=http%3A%2F%2Fwww.example%2Falice HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>This protocol operation contains an ambiguous RDF Dataset: the dataset specified in the query is different than the one specified in the protocol (by way of
            <code>default-graph-uri</code> and <code>named-graph-uri</code> parameters). A conformant SPARQL Protocol service must resolve this ambiguity by executing the query against the RDF
            Dataset specified in the protocol:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
  &lt;head&gt;
    &lt;variable name="who"/&gt;
    &lt;variable name="g"/&gt;
    &lt;variable name="mbox"/&gt;
  &lt;/head&gt;
  &lt;results&gt;
    &lt;result&gt;
      &lt;binding name="who"&gt;
        &lt;literal&gt;Bob Hacker&lt;/literal&gt;
      &lt;/binding&gt;
      &lt;binding name="g"&gt;
        &lt;uri&gt;http://www.example/bob&lt;/uri&gt;
      &lt;/binding&gt;
      &lt;binding name="mbox"&gt;
        &lt;uri&gt;mailto:bob@oldcorp.example&lt;/uri&gt;
      &lt;/binding&gt;
    &lt;/result&gt;
    &lt;result&gt;
      &lt;binding name="who"&gt;
        &lt;literal&gt;Alice Hacker&lt;/literal&gt;
      &lt;/binding&gt;
      &lt;binding name="g"&gt;
        &lt;uri&gt;http://www.example/alice&lt;/uri&gt;
      &lt;/binding&gt;
      &lt;binding name="mbox"&gt;
        &lt;uri&gt;mailto:alice@work.example&lt;/uri&gt;
      &lt;/binding&gt;
    &lt;/result&gt;
  &lt;/results&gt;
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="select-malformed"><div class="header-wrapper"><h4 id="x4-1-9-select-with-malformed-query-fault"><bdi class="secno">4.1.9 </bdi>SELECT with malformed query fault</h4><a class="self-link" href="#select-malformed" aria-label="Permalink for Section 4.1.9"></a></div>
          
          <p>This syntactically invalid SPARQL query</p>
          <div id="div-select-malformed">
            <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
SELECT ?name
WHERE { ?x foaf:name ?name
ORDER BY ?name }</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fwww.example%2Fmorepublishers HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>With the error response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 400 Bad Request
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: text/plain; charset=UTF-8

4:syntax error, unexpected ORDER, expecting '}'</pre>
          </div>
        </section>
        <section id="select-refused"><div class="header-wrapper"><h4 id="x4-1-10-select-with-query-request-refused-fault"><bdi class="secno">4.1.10 </bdi>SELECT with query request refused fault</h4><a class="self-link" href="#select-refused" aria-label="Permalink for Section 4.1.10"></a></div>
          
          <p>This SPARQL query</p>
          <div id="div-select-refused">
            <pre class="query nohighlight">PREFIX bio: &lt;http://bio.example/schema/#&gt;
SELECT ?valence
FROM &lt;http://another.example/protein-db.rdf&gt;
WHERE { ?x bio:protein ?valence }
ORDER BY ?valence</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fanother.example%2Fprotein-db.rdf HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1</pre>
            <p>With the error response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 500 Internal Server Error
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: text/plain

SPARQL Processing Service: Query Request Refused

Your request could not be processed because http://another.example/protein-db.rdf
could not be retrieved within the time alloted.</pre>
          </div>
        </section>
        <section id="select-longpost"><div class="header-wrapper"><h4 id="x4-1-11-long-select-query-using-post-with-url-encoding"><bdi class="secno">4.1.11 </bdi>Long SELECT query using POST with URL encoding</h4><a class="self-link" href="#select-longpost" aria-label="Permalink for Section 4.1.11"></a></div>
          
          <p>Some SPARQL queries, perhaps machine generated, may be longer than can be reliably conveyed by way of the HTTP GET binding described in <a href="#query-via-get">2.1.1 query via GET</a>.
          In those cases the POST binding described in <a href="#query-via-post-urlencoded">2.1.2 query via POST with URL-encoded parameters</a> may be used. This SPARQL query</p>
          <div id="div-select-longpost">
            <pre class="query nohighlight">PREFIX : &lt;http://www.w3.org/2002/12/cal/icaltzd#&gt;
PREFIX Chi: &lt;http://www.w3.org/2002/12/cal/test/Chiefs.ics#&gt;
PREFIX New: &lt;http://www.w3.org/2002/12/cal/tzd/America/New_York#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;

SELECT ?summary
WHERE {
    {
        Chi:D603E2AC-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-09-08T16:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:09:27Z"^^xsd:dateTime;
         :dtstart "2002-09-08T13:00:00"^^New:tz;
         :summary ?summary;
         :uid "D603E2AC-C1C9-11D6-9446-003065F198AC" .
        }
        UNION
    {
        Chi:D603E90B-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-09-15T16:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:10:19Z"^^xsd:dateTime;
         :dtstart "2002-09-15T13:00:00"^^New:tz;
         :summary ?summary;
         :uid "D603E90B-C1C9-11D6-9446-003065F198AC" .
        }
        UNION
    {
        Chi:D603ED6E-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-09-22T16:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:11:05Z"^^xsd:dateTime;
         :dtstart "2002-09-22T13:00:00"^^New:tz;
         :summary ?summary;
         :uid "D603ED6E-C1C9-11D6-9446-003065F198AC" .
        }
        UNION
    {
        Chi:D603F18C-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-09-29T16:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:15:46Z"^^xsd:dateTime;
         :dtstart "2002-09-29T13:00:00"^^New:tz;
         :summary ?summary;
         :uid "D603F18C-C1C9-11D6-9446-003065F198AC" .
        }
        UNION
    {
        Chi:D603F5B7-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-11-04"^^xsd:date;
         :dtstamp "2002-09-06T03:12:53Z"^^xsd:dateTime;
         :dtstart "2002-11-03"^^xsd:date;
         :summary ?summary;
         :uid "D603F5B7-C1C9-11D6-9446-003065F198AC" .
        }
        UNION
    {
        Chi:D603F9D7-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-11-10T20:15:00"^^New:tz;
         :dtstamp "2002-09-06T03:14:12Z"^^xsd:dateTime;
         :dtstart "2002-11-10T17:15:00"^^New:tz;
         :summary ?summary;
         :uid "D603F9D7-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D604022C-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-11-17T17:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:14:51Z"^^xsd:dateTime;
         :dtstart "2002-11-17T14:00:00"^^New:tz;
         :summary ?summary;
         :uid "D604022C-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D604065C-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-10-06T19:05:00"^^New:tz;
         :dtstamp "2002-09-06T03:16:54Z"^^xsd:dateTime;
         :dtstart "2002-10-06T16:05:00"^^New:tz;
         :summary ?summary;
         :uid "D604065C-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6040A7E-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-10-13T19:15:00"^^New:tz;
         :dtstamp "2002-09-06T03:17:51Z"^^xsd:dateTime;
         :dtstart "2002-10-13T16:15:00"^^New:tz;
         :summary ?summary;
         :uid "D6040A7E-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6040E96-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-10-20T16:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:18:32Z"^^xsd:dateTime;
         :dtstart "2002-10-20T13:00:00"^^New:tz;
         :summary ?summary;
         :uid "D6040E96-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6041270-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-10-27T17:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:19:15Z"^^xsd:dateTime;
         :dtstart "2002-10-27T14:00:00"^^New:tz;
         :summary ?summary;
         :uid "D6041270-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6041673-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-11-24T20:05:00"^^New:tz;
         :dtstamp "2002-09-06T03:22:09Z"^^xsd:dateTime;
         :dtstart "2002-11-24T17:05:00"^^New:tz;
         :summary ?summary;
         :uid "D6041673-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6041A73-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-12-01T17:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:22:52Z"^^xsd:dateTime;
         :dtstart "2002-12-01T14:00:00"^^New:tz;
         :summary ?summary;
         :uid "D6041A73-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D60421EF-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-12-08T17:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:24:04Z"^^xsd:dateTime;
         :dtstart "2002-12-08T14:00:00"^^New:tz;
         :summary ?summary;
         :uid "D60421EF-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6042660-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-12-15T20:05:00"^^New:tz;
         :dtstamp "2002-09-06T03:25:03Z"^^xsd:dateTime;
         :dtstart "2002-12-15T17:05:00"^^New:tz;
         :summary ?summary;
         :uid "D6042660-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6042A93-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-12-22T17:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:25:47Z"^^xsd:dateTime;
         :dtstart "2002-12-22T14:00:00"^^New:tz;
         :summary ?summary;
         :uid "D6042A93-C1C9-11D6-9446-003065F198AC" .
    }
        UNION
    {
        Chi:D6042EDF-C1C9-11D6-9446-003065F198AC     a :Vevent;
         :dtend "2002-12-28T21:00:00"^^New:tz;
         :dtstamp "2002-09-06T03:26:51Z"^^xsd:dateTime;
         :dtstart "2002-12-28T18:00:00"^^New:tz;
         :summary ?summary;
         :uid "D6042EDF-C1C9-11D6-9446-003065F198AC" .
    }
}</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">POST /sparql/ HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1
Content-Type: application/x-www-form-urlencoded
Content-Length: 9461

<b>query</b>=<i>EncodedQuery</i>&amp;<b>default-graph-uri</b>=http%3A%2F%2Fanother.example%2Fcalendar.rdf</pre>
            <p>With the response illustrated here:</p>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix) PHP/4.3.4 DAV/1.0.3
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
    &lt;head&gt;
        &lt;variable name="summary"/&gt;
    &lt;/head&gt;
    &lt;results&gt;
        &lt;result&gt;
            &lt;binding name="summary"&gt;
                &lt;literal&gt;Chiefs vs. Cleveland @ Cleveland Stadium&lt;/literal&gt;
            &lt;/binding&gt;
        &lt;/result&gt;
        &lt;result&gt;
            &lt;binding name="summary"&gt;
                &lt;literal&gt;Chiefs vs. Jacksonville @ Arrowhead Stadium&lt;/literal&gt;
            &lt;/binding&gt;
        &lt;/result&gt;
        &lt;result&gt;
            &lt;binding name="summary"&gt;
                &lt;literal&gt;Chiefs vs. New England @ Gillette Stadium&lt;/literal&gt;
            &lt;/binding&gt;
        &lt;/result&gt;
        ...
        &lt;result&gt;
            &lt;binding name="summary"&gt;
                &lt;literal&gt;Chiefs vs. Oakland @ Network Associates Coliseum&lt;/literal&gt;
            &lt;/binding&gt;
        &lt;/result&gt;
    &lt;/results&gt;
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="select-longpost-direct"><div class="header-wrapper"><h4 id="x4-1-12-long-select-query-using-direct-post"><bdi class="secno">4.1.12 </bdi>Long SELECT query using direct POST</h4><a class="self-link" href="#select-longpost-direct" aria-label="Permalink for Section 4.1.12"></a></div>
          
          <p>SPARQL queries may also be POSTed directly without URL encoding, as described in <a href="#query-via-post-direct">2.1.3 query via POST directly</a>. The same query used in the <a href="#select-longpost">previous example</a> is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
          <pre class="req nohighlight">POST /sparql/?default-graph-uri=http%3A%2F%2Fanother.example%2Fcalendar.rdf HTTP/1.1
Host: www.example
User-agent: sparql-client/0.1
Content-Type: application/sparql-query

<i>UnencodedQuery</i></pre>
          <p>With the same response as in the previous example.</p>
        </section>
        <section id="select-kanji"><div class="header-wrapper"><h4 id="x4-1-13-select-with-internationalization"><bdi class="secno">4.1.13 </bdi>SELECT with internationalization</h4><a class="self-link" href="#select-kanji" aria-label="Permalink for Section 4.1.13"></a></div>
          
          <p>SPARQL queries may include internationalized characters or character sets. This SPARQL query</p>
          <div id="div-select-kanji">
            <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX 食: &lt;http://www.w3.org/2001/sw/DataAccess/tests/data/i18n/kanji.ttl#&gt;
SELECT ?name ?food 
WHERE { [ foaf:name ?name ; 食:食べる ?food ] . }</pre>
            <p>is conveyed to the SPARQL query service, <code>/http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query=PREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0APREFIX%20%E9%A3%9F%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2Fsw%2FDataAccess%2Ftests%2Fdata%2Fi18n%2Fkanji.ttl%23%3E%0ASELECT%20%3Fname%20%3Ffood%20%0AWHERE%20%7B%20%5B%20foaf%3Aname%20%3Fname%20%3B%20%E9%A3%9F%3A%E9%A3%9F%E3%81%B9%E3%82%8B%20%3Ffood%20%5D%20.%20%7D</b>
Host: www.example
User-agent: sparql-client/0.1</pre>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix)
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
...
&lt;/sparql&gt;</pre>
          </div>
        </section>
        <section id="select-quoted"><div class="header-wrapper"><h4 id="x4-1-14-select-with-quoted-triple-patterns"><bdi class="secno">4.1.14 </bdi>SELECT with quoted triple patterns</h4><a class="self-link" href="#select-quoted" aria-label="Permalink for Section 4.1.14"></a></div>
          
          <p>SPARQL queries can target quoted triples. This SPARQL query</p>
          <div id="div-select-quoted">
            <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX ex: &lt;http://example.org/&gt;
SELECT ?name ?person
WHERE { &lt;&lt; _:a foaf:name ?name &gt;&gt; ex:statedBy ?person . }</pre>
            <p>is conveyed to the SPARQL query service, <code>http://www.example/sparql/</code>, as illustrated in this HTTP trace:</p>
            <pre class="req nohighlight">GET /sparql/?<b>query=PREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0APREFIX%20ex%3A%20%3Chttp%3A%2F%2Fexample.org%2F%3E%0ASELECT%20%3Fname%20%3Fperson%20%0AWHERE%20%7B%20%3C%3C%20_%3Aa%20foaf%3Aname%20%3Fname%20%3E%3E%20ex%3AstatedBy%20%3Fperson%20.%20%7D</b>
Host: www.example
User-agent: sparql-client/0.1</pre>
            <pre class="resp nohighlight">HTTP/1.1 200 OK
Date: Wed, 03 Aug 2005 12:48:25 GMT
Server: Apache/1.3.29 (Unix)
Connection: close
Content-Type: application/sparql-results+xml

&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
...
&lt;/sparql&gt;</pre>
          </div>
        </section>
      </section>
      <section id="update-bindings-http-examples"><div class="header-wrapper"><h3 id="x4-2-examples-of-sparql-update"><bdi class="secno">4.2 </bdi>Examples of SPARQL Update</h3><a class="self-link" href="#update-bindings-http-examples" aria-label="Permalink for Section 4.2"></a></div>
        
        <section id="update-urlencoded-simple"><div class="header-wrapper"><h4 id="x4-2-1-update-using-url-encoded-parameters"><bdi class="secno">4.2.1 </bdi>UPDATE using URL-encoded parameters</h4><a class="self-link" href="#update-urlencoded-simple" aria-label="Permalink for Section 4.2.1"></a></div>
          
          <p>An example request, which is a serialisation of a request sent to <code>http://localhost:8888/test</code> for the query <code>INSERT DATA { &lt;a&gt; &lt;p&gt; &lt;b&gt; }</code> is
          shown below using the URL-encoded parameter form.</p>
          <pre class="req nohighlight">POST /test HTTP/1.1
Host: localhost:8888
Accept: text/plain
Content-Length: 62
Content-Type: application/x-www-form-urlencoded

update=INSERT%20DATA%20%7B%20%3Ca%3E%20%3Cp%3E%20%3Cb%3E%20%7D</pre>
        </section>
        <section id="update-direct-simple"><div class="header-wrapper"><h4 id="x4-2-2-update-using-post-directly"><bdi class="secno">4.2.2 </bdi>UPDATE using POST directly</h4><a class="self-link" href="#update-direct-simple" aria-label="Permalink for Section 4.2.2"></a></div>
          
          <p>Update requests may be sent as a POST request with a Content-Type of <code>application/sparql-update</code>:</p>
          <pre class="req nohighlight">POST /test HTTP/1.1
Host: localhost:8888
Accept: */*
Content-Type: application/sparql-update
Content-Length: 27

INSERT DATA { &lt;a&gt; &lt;p&gt; &lt;b&gt; }</pre>
        </section>
        <section id="update-direct-simple-dataset"><div class="header-wrapper"><h4 id="x4-2-3-update-specifying-dataset-and-using-post-directly"><bdi class="secno">4.2.3 </bdi>UPDATE specifying dataset and using POST directly</h4><a class="self-link" href="#update-direct-simple-dataset" aria-label="Permalink for Section 4.2.3"></a></div>
          
          <p>A dataset for an update request may be specified using the <code>using-graph-uri</code> and <code>using-named-graph-uri</code> parameters. The serialisation of an example request sent to
          <code>http://localhost:8888/test</code> and specifying a dataset with default graph <code>http://localhost:8888/people</code> is shown below.</p>
          <pre class="req nohighlight">POST /test?using-graph-uri=http%3A%2F%2Flocalhost%3A8888%2Fpeople HTTP/1.1
Host: localhost:8888
Accept: */*
Content-Type: application/sparql-update
Content-Length: 136

PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
DELETE { ?person ?property ?value }
WHERE { ?person ?property ?value ; foaf:givenName 'Fred' }</pre>
        </section>
        <section id="update-urlencoded-multi"><div class="header-wrapper"><h4 id="x4-2-4-multi-operation-update-using-url-encoded-parameters"><bdi class="secno">4.2.4 </bdi>Multi-operation UPDATE using URL-encoded parameters</h4><a class="self-link" href="#update-urlencoded-multi" aria-label="Permalink for Section 4.2.4"></a></div>
          
          <p>A sequence of multiple operations may be included in a single request, separated by a ';' (semicolon). The serialisation of an example request sent to
          <code>http://localhost:8888/test</code> for the query</p>
          <pre class="query nohighlight">DELETE DATA { &lt;a&gt; &lt;p&gt; &lt;old&gt; } ;
INSERT DATA { &lt;a&gt; &lt;p&gt; &lt;new&gt; }</pre>
          <p>is shown below using the URL-encoded parameter form.</p>
          <pre class="req nohighlight">POST /test HTTP/1.1
Host: localhost:8888
Accept: */*
Content-Type: application/x-www-form-urlencoded
Content-Length: 130

update=DELETE%20DATA%20%7B%20%3Ca%3E%20%3Cp%3E%20%3Cold%3E%20%7D%20%3B%0AINSERT%20DATA%20%7B%20%3Ca%3E%20%3Cp%3E%20%3Cnew%3E%20%7D</pre>
        </section>
        <section id="update-urlencoded-multi-dataset"><div class="header-wrapper"><h4 id="x4-2-5-multi-operation-update-specifying-dataset-and-using-url-encoded-parameters"><bdi class="secno">4.2.5 </bdi>Multi-operation UPDATE specifying dataset and using URL-encoded parameters</h4><a class="self-link" href="#update-urlencoded-multi-dataset" aria-label="Permalink for Section 4.2.5"></a></div>
          
          <p>When POSTing an update request with URL-encoded parameters, the dataset parameters <code>using-graph-uri</code> and <code>using-named-graph-uri</code> are specified in the POST body with
          the serialized request. The serialisation of an example request sent to <code>http://localhost:8888/test</code> for the query</p>
          <pre class="query nohighlight">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
INSERT { GRAPH &lt;http://localhost:8888/people&gt; { ?person ?property ?value } }
WHERE { GRAPH ?g { ?person ?property ?value ; foaf:givenName 'Fred' } }</pre>
          <p>and specifying a dataset with the named graphs <code>http://localhost:8888/alice/foaf.rdf</code> and <code>http://localhost:8888/eve/foaf.rdf</code> is shown below.</p>
          <pre class="req nohighlight">POST /test HTTP/1.1
Host: localhost:8888
Accept: */*
Content-Type: application/x-www-form-urlencoded
Content-Length: 130

using-named-graph-uri=http%3A%2F%2Flocalhost%3A8888%2Falice%2Ffoaf.rdf&amp;using-named-graph-uri=http%3A%2F%2Flocalhost%3A8888%2Feve%2Ffoaf.rdf&amp;update=PREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0AINSERT%20%7B%20GRAPH%20%3Chttp%3A%2F%2Flocalhost%3A8888%2Fpeople%3E%20%7B%20%3Fperson%20%3Fproperty%20%3Fvalue%20%7D%20%7D%0AWHERE%20%7B%20GRAPH%20%3Fg%20%7B%20%3Fperson%20%3Fproperty%20%3Fvalue%20%3B%20foaf%3AgivenName%20%27Fred%27%20%7D%20%7D</pre>
        </section>
        <section id="update-direct-multi-dataset"><div class="header-wrapper"><h4 id="x4-2-6-multi-operation-update-specifying-dataset-and-using-post-directly"><bdi class="secno">4.2.6 </bdi>Multi-operation UPDATE specifying dataset and using POST directly</h4><a class="self-link" href="#update-direct-multi-dataset" aria-label="Permalink for Section 4.2.6"></a></div>
          
          <p>The serialisation of an example request sent to <code>http://localhost:8888/test</code> and specifying a dataset with the named graphs <code>http://localhost:8888/alice/foaf.rdf</code>
          and <code>http://localhost:8888/eve/foaf.rdf</code> is shown below.</p>
          <pre class="req nohighlight">POST /test?using-named-graph-uri=http%3A%2F%2Flocalhost%3A8888%2Falice%2Ffoaf.rdf&amp;using-named-graph-uri=http%3A%2F%2Flocalhost%3A8888%2Feve%2Ffoaf.rdf HTTP/1.1
Host: localhost:8888
Accept: */*
Content-Type: application/sparql-update
Content-Length: 190

PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
INSERT { GRAPH &lt;http://localhost:8888/people&gt; { ?person ?property ?value } }
WHERE { GRAPH ?g { ?person ?property ?value ; foaf:givenName 'Fred' } }</pre>
        </section>
      </section>
    </section>
    <section id="policy"><div class="header-wrapper"><h2 id="x5-policy-considerations"><bdi class="secno">5. </bdi>Policy Considerations</h2><a class="self-link" href="#policy" aria-label="Permalink for Section 5."></a></div>
      
      <section id="policy-security"><div class="header-wrapper"><h3 id="x5-1-security"><bdi class="secno">5.1 </bdi>Security</h3><a class="self-link" href="#policy-security" aria-label="Permalink for Section 5.1"></a></div>
        
        <p>There are at least two possible sources of denial-of-service attacks against SPARQL protocol services. First, under-constrained queries can result in very large numbers of results, which
        may require large expenditures of computing resources to process, assemble, or return. Another possible source are queries containing very complex — either because of resource size, the
        number of resources to be retrieved, or a combination of size and number — RDF Dataset descriptions, which the service may be unable to assemble without significant expenditure of resources,
        including bandwidth, CPU, or secondary storage. In some cases such expenditures may effectively constitute a denial-of-service attack. A SPARQL protocol service <strong>may</strong> place
        restrictions on the resources that it retrieves or on the rate at which external resources are retrieved. There may be other sources of denial-of-service attacks against SPARQL query
        processing services.</p>
        <p>Since a SPARQL protocol service may make HTTP requests of other origin servers on behalf of its clients, it may be used as a vector of attacks against other sites or services. Thus, SPARQL
        protocol services may effectively act as proxies for third-party clients. Such services <strong>may</strong> place restrictions on the resources that they retrieve or on the rate at which
        external resources can be retrieved. SPARQL protocol services <strong>may</strong> log client requests in such a way as to facilitate tracing them with regard to third-party origin servers or
        services.</p>
        <p>SPARQL protocol services <strong>may</strong> choose to detect these and other costly, or otherwise unsafe, queries, impose time or memory limits on queries, or impose other restrictions
        to reduce the service's (and other service's) vulnerability to denial-of-service attacks. They also <strong>may</strong> <a href="#query-failure">refuse to process such query
        requests</a>.</p>
        <p>SPARQL protocol services may remove, insert, and change underlying data via the update operation. To protect against malicious or destructive updates, implementations may choose not to
        implement the update operation. Alternatively, implementations may choose to use HTTP authentication mechanisms or other implementation-defined mechanisms to prevent unauthorized invocations
        of the update operation.</p>
        <p>Different IRIs may have the same appearance. Characters in different scripts may look similar (a Cyrillic "о" may appear similar to a Latin "o"). A character followed by combining
        characters may have the same visual representation as another character (LATIN SMALL LETTER E followed by COMBINING ACUTE ACCENT has the same visual representation as LATIN SMALL LETTER E
        WITH ACUTE). Users of SPARQL must take care to construct queries with IRIs that match the IRIs in the data. Further information about matching of similar characters can be found in <cite><a data-matched-text="[[[UTR36]]]" href="https://www.unicode.org/reports/tr36/tr36-15.html">Unicode Security Considerations</a></cite> and <cite><a data-matched-text="[[[rfc3987]]]" href="https://www.rfc-editor.org/rfc/rfc3987">Internationalized Resource Identifiers (IRIs)</a></cite> Section 8.</p>
      </section>
    </section>
    <section id="conformance"><div class="header-wrapper"><h2 id="x6-conformance"><bdi class="secno">6. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 6."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MUST</em> and <em class="rfc2119">MUST NOT</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
      <section id="conformance-0"><div class="header-wrapper"><h3 id="x6-1-conformance"><bdi class="secno">6.1 </bdi>Conformance</h3><a class="self-link" href="#conformance-0" aria-label="Permalink for Section 6.1"></a></div>
      <p>The status of the parts of SPARQL 1.2 Protocol (this document) is as follows:</p>
      <ul>
        <li>Section 1 Introduction: <strong>normative</strong></li>
        <li>Section 2 SPARQL Protocol Operations: <strong>normative</strong></li>
        <li>Section 3: Example SPARQL Protocol Requests: <strong>informative</strong></li>
        <li>Section 4: Policy Considerations: <strong>normative</strong></li>
        <li>Section 5: Conformance: <strong>normative</strong></li>
        <li>Section 6: Changes Since Previous Recommendation: <strong>informative</strong></li>
        <li>Section A.1: Normative References: <strong>normative</strong></li>
        <li>Section A.2: Other References: <strong>informative</strong></li>
      </ul>
      <p>A <span class="doc-ref" id="conformant-sparql-protocol-service">conformant SPARQL Protocol service</span>:</p>
      <ol>
        <li><strong>must</strong> implement either the <code>query</code> operation or the <code>update</code> operation in the way described in this document ("SPARQL 1.2 Protocol");</li>
        <li><strong>may</strong> implement both the <code>query</code> and <code>update</code> operations;</li>
        <li><strong>must</strong> be consistent with the normative constraints (indicated by <a href="https://www.rfc-editor.org/rfc/rfc2119#" id="ref-for-index-term-rfc-2119-2">RFC2119</a> keywords) described in <a href="#policy">4. Policy
        Considerations</a>.</li>
      </ol>
    </section></section>
    <section id="changes"><div class="header-wrapper"><h2 id="x7-changes-since-previous-recommendation-informative"><bdi class="secno">7. </bdi>Changes Since Previous Recommendation (Informative)</h2><a class="self-link" href="#changes" aria-label="Permalink for Section 7."></a></div>
      
      <p>This specification extends and updates the <a href="http://www.w3.org/TR/2008/REC-rdf-sparql-protocol-20080115/">SPARQL Protocol for RDF of January, 2008</a>. The significant changes
      are:</p>
      <ul>
        <li>Remove the WSDL definition of the protocol in favor of an HTTP-based protocol</li>
        <li>Define an Update operation for issuing SPARQL Update requests</li>
        <li>Updated conformance criteria to accommodate the update operation</li>
        <li>Relaxed the requirements on specific HTTP response codes to allow for other codes as long as they align with HTTP semantics</li>
        <li>Added a variant of the query operation that directly posts a query string in the body of a POST request</li>
      </ul>
    </section>
    

    <section id="privacy"><div class="header-wrapper"><h2 id="x8-privacy-considerations"><bdi class="secno">8. </bdi>Privacy Considerations</h2><a class="self-link" href="#privacy" aria-label="Permalink for Section 8."></a></div>
      
      <p>TODO</p>
    </section>

    <section id="security"><div class="header-wrapper"><h2 id="x9-security-considerations"><bdi class="secno">9. </bdi>Security Considerations</h2><a class="self-link" href="#security" aria-label="Permalink for Section 9."></a></div>
      
      <p>TODO</p>
    </section>

    <section id="internationalization"><div class="header-wrapper"><h2 id="x10-internationalization-considerations"><bdi class="secno">10. </bdi>Internationalization Considerations</h2><a class="self-link" href="#internationalization" aria-label="Permalink for Section 10."></a></div>
      
      <p>TODO</p>                
    </section>

    <section class="appendix informative" id="changes-from-sparql11"><div class="header-wrapper"><h2 id="a-change-log"><bdi class="secno">A. </bdi>Change Log</h2><a class="self-link" href="#changes-from-sparql11" aria-label="Permalink for Appendix A."></a></div><p><em>This section is non-normative.</em></p>
      
      <p>TODO</p>
    </section>   

    <section id="index" class="appendix"><div class="header-wrapper"><h2 id="b-index"><bdi class="secno">B. </bdi>Index</h2><a class="self-link" href="#index" aria-label="Permalink for Appendix B."></a></div><section id="index-defined-here"><div class="header-wrapper"><h3 id="b-1-terms-defined-by-this-specification"><bdi class="secno">B.1 </bdi>Terms defined by this specification</h3><a class="self-link" href="#index-defined-here" aria-label="Permalink for Appendix B.1"></a></div>
    
    <ul class="index">
    
  </ul>
  </section><section id="index-defined-elsewhere"><div class="header-wrapper"><h3 id="b-2-terms-defined-by-reference"><bdi class="secno">B.2 </bdi>Terms defined by reference</h3><a class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix B.2"></a></div>
    
    <ul class="index">
    <li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119">RFC2119</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc2119#" id="index-term-rfc-2119" tabindex="0" aria-haspopup="dialog">RFC 2119</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986">RFC3986</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc3986#section-2.1" id="index-term-percent-encode" tabindex="0" aria-haspopup="dialog">percent encode</span>
  </li><li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc3986#" id="index-term-percent-encode-0" tabindex="0" aria-haspopup="dialog">percent encode</span>
  </li><li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc3986#section-3.4" id="index-term-query-parameter" tabindex="0" aria-haspopup="dialog">query parameter</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110">RFC9110</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc9110#section-12" id="index-term-content-negotiation" tabindex="0" aria-haspopup="dialog">content negotiation</span>
  </li><li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc9110#name-content-negotiation" id="index-term-content-negotiation-0" tabindex="0" aria-haspopup="dialog">content negotiation</span>
  </li><li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc9110#section-15" id="index-term-http-specification" tabindex="0" aria-haspopup="dialog">HTTP specification</span>
  </li><li>
    <span class="index-term" data-href="https://www.rfc-editor.org/rfc/rfc9110#section-3.3" id="index-term-rfc-9110" tabindex="0" aria-haspopup="dialog">RFC 9110</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-query">SPARQL12-QUERY</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#ask" id="index-term-ask" tabindex="0" aria-haspopup="dialog">ASK</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#construct" id="index-term-construct" tabindex="0" aria-haspopup="dialog">CONSTRUCT</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#describe" id="index-term-describe" tabindex="0" aria-haspopup="dialog">DESCRIBE</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#QueryForms" id="index-term-query-form" tabindex="0" aria-haspopup="dialog">query form</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#select" id="index-term-select" tabindex="0" aria-haspopup="dialog">SELECT</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="index-term-sparql-1-2-query-language" tabindex="0" aria-haspopup="dialog">SPARQL 1.2 Query Language</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-results-csv-tsv">SPARQL12-RESULTS-CSV-TSV</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-results-csv-tsv/spec/#" id="index-term-csv-tsv" tabindex="0" aria-haspopup="dialog">CSV/TSV</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-results-json">SPARQL12-RESULTS-JSON</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-results-json/spec/#" id="index-term-json" tabindex="0" aria-haspopup="dialog">JSON</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-results-xml">SPARQL12-RESULTS-XML</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-results-xml/spec/#" id="index-term-xml" tabindex="0" aria-haspopup="dialog">XML</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-update">SPARQL12-UPDATE</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-update/spec/#deleteInsert" id="index-term-delete-insert-operation" tabindex="0" aria-haspopup="dialog">DELETE/INSERT operation</span>
  </li>
        </ul>
      </li>
  </ul>
  </section></section>

  

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="c-references"><bdi class="secno">C. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix C."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix C.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-rdf12-concepts">[RDF12-CONCEPTS]</dt><dd>
      <a href="https://w3c.github.io/rdf-concepts/spec/"><cite>RDF 1.2 Concepts and Abstract Syntax</cite></a>. Richard Cyganiak; David Wood; Markus Lanthaler.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/rdf-concepts/spec/">https://w3c.github.io/rdf-concepts/spec/</a>
    </dd><dt id="bib-rdf12-xml">[RDF12-XML]</dt><dd>
      <a href="https://w3c.github.io/rdf-xml/spec/"><cite>RDF 1.2 XML Syntax</cite></a>. Fabien Gandon; Guus Schreiber.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/rdf-xml/spec/">https://w3c.github.io/rdf-xml/spec/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc3986">[rfc3986]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
    </dd><dt id="bib-rfc3987">[rfc3987]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3987"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>. M. Duerst; M. Suignard.  IETF. January 2005. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3987">https://www.rfc-editor.org/rfc/rfc3987</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc9110">[rfc9110]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9110"><cite>HTTP Semantics</cite></a>. R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed..  IETF. June 2022. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9110">https://www.rfc-editor.org/rfc/rfc9110</a>
    </dd><dt id="bib-sparql12-concepts">[SPARQL12-CONCEPTS]</dt><dd>
      <a href="https://w3c.github.io/sparql-concepts/spec/"><cite>SPARQL 1.2 Concepts</cite></a>. The W3C RDF-star Working Group.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-concepts/spec/">https://w3c.github.io/sparql-concepts/spec/</a>
    </dd><dt id="bib-sparql12-entailment">[SPARQL12-ENTAILMENT]</dt><dd>
      <a href="https://w3c.github.io/sparql-entailment/spec/"><cite>SPARQL 1.2 Entailment Regimes</cite></a>. Birte Glimm; Chimezie Ogbuji.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-entailment/spec/">https://w3c.github.io/sparql-entailment/spec/</a>
    </dd><dt id="bib-sparql12-federated-query">[SPARQL12-FEDERATED-QUERY]</dt><dd>
      <a href="https://w3c.github.io/sparql-federated-query/spec/"><cite>SPARQL 1.2 Federated Query</cite></a>. Eric Prud'hommeaux; Carlos Buil Aranda.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-federated-query/spec/">https://w3c.github.io/sparql-federated-query/spec/</a>
    </dd><dt id="bib-sparql12-graph-store-protocol">[SPARQL12-GRAPH-STORE-PROTOCOL]</dt><dd>
      <a href="https://w3c.github.io/sparql-graph-store-protocol/spec/"><cite>SPARQL 1.2 Graph Store HTTP Protocol</cite></a>. Chimezie Ogbuji.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-graph-store-protocol/spec/">https://w3c.github.io/sparql-graph-store-protocol/spec/</a>
    </dd><dt id="bib-sparql12-new">[SPARQL12-NEW]</dt><dd>
      <a href="https://w3c.github.io/sparql-new/spec/"><cite>What’s New in SPARQL 1.2</cite></a>. The W3C RDF-star Working Group.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-new/spec/">https://w3c.github.io/sparql-new/spec/</a>
    </dd><dt id="bib-sparql12-query">[SPARQL12-QUERY]</dt><dd>
      <a href="https://w3c.github.io/sparql-query/spec/"><cite>SPARQL 1.2 Query Language</cite></a>. Steven Harris; Andy Seaborne.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-query/spec/">https://w3c.github.io/sparql-query/spec/</a>
    </dd><dt id="bib-sparql12-results-csv-tsv">[SPARQL12-RESULTS-CSV-TSV]</dt><dd>
      <a href="https://w3c.github.io/sparql-results-csv-tsv/spec/"><cite>SPARQL 1.2 Query Results CSV and TSV Formats</cite></a>. Andy Seaborne.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-results-csv-tsv/spec/">https://w3c.github.io/sparql-results-csv-tsv/spec/</a>
    </dd><dt id="bib-sparql12-results-json">[SPARQL12-RESULTS-JSON]</dt><dd>
      <a href="https://w3c.github.io/sparql-results-json/spec/"><cite>SPARQL 1.2 Query Results JSON Format</cite></a>. Andy Seaborne.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-results-json/spec/">https://w3c.github.io/sparql-results-json/spec/</a>
    </dd><dt id="bib-sparql12-results-xml">[SPARQL12-RESULTS-XML]</dt><dd>
      <a href="https://w3c.github.io/sparql-results-xml/spec/"><cite>SPARQL 1.2 Query Results XML Formats</cite></a>. Sandro Hawke; Dave Beckett; Jeen Broekstra.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-results-xml/spec/">https://w3c.github.io/sparql-results-xml/spec/</a>
    </dd><dt id="bib-sparql12-service-description">[SPARQL12-SERVICE-DESCRIPTION]</dt><dd>
      <a href="https://w3c.github.io/sparql-service-description/spec/"><cite>SPARQL 1.2 Service Description</cite></a>. Gregory Williams.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-service-description/spec/">https://w3c.github.io/sparql-service-description/spec/</a>
    </dd><dt id="bib-sparql12-update">[SPARQL12-UPDATE]</dt><dd>
      <a href="https://w3c.github.io/sparql-update/spec/"><cite>SPARQL 1.2 Update</cite></a>. Paula Gearon; Alexandre Passant; Axel Polleres.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-update/spec/">https://w3c.github.io/sparql-update/spec/</a>
    </dd><dt id="bib-utr36">[UTR36]</dt><dd>
      <a href="https://www.unicode.org/reports/tr36/tr36-15.html"><cite>Unicode Security Considerations</cite></a>. Mark Davis; Michel Suignard.  Unicode Consortium. 19 September 2014. Unicode Technical Report #36. URL: <a href="https://www.unicode.org/reports/tr36/tr36-15.html">https://www.unicode.org/reports/tr36/tr36-15.html</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-rfc-2119" aria-label="Links in this document to definition: RFC 2119">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc2119#" aria-label="Permalink for definition: RFC 2119. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-rfc-2119-1" title="§ 2.1 Document Conventions">§ 2.1 Document Conventions</a> 
  </li><li>
    <a href="#ref-for-index-term-rfc-2119-2" title="§ 6.1 Conformance">§ 6.1 Conformance</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-percent-encode" aria-label="Links in this document to definition: percent encode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc3986#section-2.1" aria-label="Permalink for definition: percent encode. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-percent-encode-1" title="§ 3.1.1 query via GET">§ 3.1.1 query via GET</a> 
  </li><li>
    <a href="#ref-for-index-term-percent-encode-2" title="§ 3.1.2 query via POST with URL-encoded parameters">§ 3.1.2 query via POST with URL-encoded parameters</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-percent-encode-0" aria-label="Links in this document to definition: percent encode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc3986#" aria-label="Permalink for definition: percent encode. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-percent-encode-0-1" title="§ 3.2.1 update via POST with URL-encoded parameters">§ 3.2.1 update via POST with URL-encoded parameters</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-query-parameter" aria-label="Links in this document to definition: query parameter">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc3986#section-3.4" aria-label="Permalink for definition: query parameter. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-query-parameter-1" title="§ 3.1.1 query via GET">§ 3.1.1 query via GET</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-content-negotiation" aria-label="Links in this document to definition: content negotiation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc9110#section-12" aria-label="Permalink for definition: content negotiation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-content-negotiation-1" title="§ 3.1 Query Operation">§ 3.1 Query Operation</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-content-negotiation-0" aria-label="Links in this document to definition: content negotiation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc9110#name-content-negotiation" aria-label="Permalink for definition: content negotiation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-content-negotiation-0-1" title="§ 3.1.5 Accepted Response Formats">§ 3.1.5 Accepted Response Formats</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-http-specification" aria-label="Links in this document to definition: HTTP specification">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc9110#section-15" aria-label="Permalink for definition: HTTP specification. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-http-specification-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li><li>
    <a href="#ref-for-index-term-http-specification-2" title="§ 3.2.4 Success Responses">§ 3.2.4 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-rfc-9110" aria-label="Links in this document to definition: RFC 9110">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://www.rfc-editor.org/rfc/rfc9110#section-3.3" aria-label="Permalink for definition: RFC 9110. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-rfc-9110-1" title="§ 2.2 Terminology">§ 2.2 Terminology</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-ask" aria-label="Links in this document to definition: ASK">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#ask" aria-label="Permalink for definition: ASK. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-ask-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-construct" aria-label="Links in this document to definition: CONSTRUCT">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#construct" aria-label="Permalink for definition: CONSTRUCT. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-construct-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-describe" aria-label="Links in this document to definition: DESCRIBE">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#describe" aria-label="Permalink for definition: DESCRIBE. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-describe-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-query-form" aria-label="Links in this document to definition: query form">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#QueryForms" aria-label="Permalink for definition: query form. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-query-form-1" title="§ 3.1 Query Operation">§ 3.1 Query Operation</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-select" aria-label="Links in this document to definition: SELECT">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#select" aria-label="Permalink for definition: SELECT. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-select-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-sparql-1-2-query-language" aria-label="Links in this document to definition: SPARQL 1.2 Query Language">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rdfDataset" aria-label="Permalink for definition: SPARQL 1.2 Query Language. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-sparql-1-2-query-language-1" title="§ 2.2 Terminology">§ 2.2 Terminology</a> 
  </li><li>
    <a href="#ref-for-index-term-sparql-1-2-query-language-2" title="§ 3.1.4 Specifying an RDF Dataset">§ 3.1.4 Specifying an RDF Dataset</a> 
  </li><li>
    <a href="#ref-for-index-term-sparql-1-2-query-language-3" title="§ 3.2.3 Specifying an RDF Dataset">§ 3.2.3 Specifying an RDF Dataset</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-csv-tsv" aria-label="Links in this document to definition: CSV/TSV">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-results-csv-tsv/spec/#" aria-label="Permalink for definition: CSV/TSV. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-csv-tsv-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-json" aria-label="Links in this document to definition: JSON">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-results-json/spec/#" aria-label="Permalink for definition: JSON. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-json-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-xml" aria-label="Links in this document to definition: XML">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-results-xml/spec/#" aria-label="Permalink for definition: XML. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-xml-1" title="§ 3.1.6 Success Responses">§ 3.1.6 Success Responses</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-delete-insert-operation" aria-label="Links in this document to definition: DELETE/INSERT operation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-update/spec/#deleteInsert" aria-label="Permalink for definition: DELETE/INSERT operation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-delete-insert-operation-1" title="§ 3.2.3 Specifying an RDF Dataset">§ 3.2.3 Specifying an RDF Dataset</a> 
  </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>